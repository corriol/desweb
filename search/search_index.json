{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Desenvolupament Web en Entorn Servidor","title":"Desenvolupament Web en Entorn Servidor"},{"location":"#desenvolupament-web-en-entorn-servidor","text":"","title":"Desenvolupament Web en Entorn Servidor"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/00_index/","text":"Introducci\u00f3 a la programaci\u00f3 web Objectius Seleccionar les arquitectures i tecnologies de programaci\u00f3 web en entorn servidor, analitzant-ne les capacitats i caracter\u00edstiques pr\u00f2pies. Introduir els principals llenguatges i frameworks per al desenvolupament en l'entorn servidor. Caracteritzar i diferenciar els models d'execuci\u00f3 de codi en el servidor i en el client web. Identificar les principals tecnologies associades. Instal\u00b7lar i configurar l'entorn de treball que emprarem per al desenvolupament web. Visualitzar mitjan\u00e7ant el navegador una p\u00e0gina web html amb codi PHP encastat. Continguts Arquitectura d'una aplicaci\u00f3 web Elements: navegador, servidor, protocol HTTP i HTML El model client/servidor P\u00e0gines web est\u00e0tiques i din\u00e0miques Execuci\u00f3 de codi en el servidor i en el client Tecnologies per a programaci\u00f3 web del costat del servidor Arquitectures i plataformes Servidors web vs Servidors d'Aplicacions Integraci\u00f3 amb el servidor web Llenguatges Codi embegut en el llenguatge de marques Eines de programaci\u00f3 Programaci\u00f3 web amb PHP Preparant l'entorn de desenvolupament Instal\u00b7laci\u00f3 de XAMPP Configuraci\u00f3 b\u00e0sica d'Apache Configuraci\u00f3 b\u00e0sica del m\u00f2dul de PHP Instal\u00b7laci\u00f3 de l'IDE PhpStorm \u00das b\u00e0sic de l'eina Depuraci\u00f3 Eines per a depuraci\u00f3 de codi php Instal\u00b7laci\u00f3 i configuraci\u00f3 de XDebug","title":"Introducci\u00f3"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/00_index/#introduccio-a-la-programacio-web","text":"","title":"Introducci\u00f3 a la programaci\u00f3 web"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/00_index/#objectius","text":"Seleccionar les arquitectures i tecnologies de programaci\u00f3 web en entorn servidor, analitzant-ne les capacitats i caracter\u00edstiques pr\u00f2pies. Introduir els principals llenguatges i frameworks per al desenvolupament en l'entorn servidor. Caracteritzar i diferenciar els models d'execuci\u00f3 de codi en el servidor i en el client web. Identificar les principals tecnologies associades. Instal\u00b7lar i configurar l'entorn de treball que emprarem per al desenvolupament web. Visualitzar mitjan\u00e7ant el navegador una p\u00e0gina web html amb codi PHP encastat.","title":"Objectius"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/00_index/#continguts","text":"Arquitectura d'una aplicaci\u00f3 web Elements: navegador, servidor, protocol HTTP i HTML El model client/servidor P\u00e0gines web est\u00e0tiques i din\u00e0miques Execuci\u00f3 de codi en el servidor i en el client Tecnologies per a programaci\u00f3 web del costat del servidor Arquitectures i plataformes Servidors web vs Servidors d'Aplicacions Integraci\u00f3 amb el servidor web Llenguatges Codi embegut en el llenguatge de marques Eines de programaci\u00f3 Programaci\u00f3 web amb PHP Preparant l'entorn de desenvolupament Instal\u00b7laci\u00f3 de XAMPP Configuraci\u00f3 b\u00e0sica d'Apache Configuraci\u00f3 b\u00e0sica del m\u00f2dul de PHP Instal\u00b7laci\u00f3 de l'IDE PhpStorm \u00das b\u00e0sic de l'eina Depuraci\u00f3 Eines per a depuraci\u00f3 de codi php Instal\u00b7laci\u00f3 i configuraci\u00f3 de XDebug","title":"Continguts"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/1_arquitectura_duna_aplicaci_web/","text":"Arquitectura d'una aplicaci\u00f3 web A difer\u00e8ncia de les aplicacions d'escriptori, que utilitzen els recursos d'un \u00fanic ordinador les aplicacions web s\u00f3n distribu\u00efdes, intervenen com a m\u00ednin dos equipos diferents: el client i el servidor. La comunicaci\u00f3 \u00e9s du a terme mitjan\u00e7ant un protocol, en el nostre cas el protocol HTTP, base de la WWW. Elements: navegador, servidor, protocol HTTP i HTML El protocol de transfer\u00e8ncia d'hipertext (HTTP) \u00e9s un protocol client-servidor molt senzill que articula els intercanvis d'informaci\u00f3 entre els clients web (navegadors) i els servidors HTTP. HTTP es basa en operacions senzilles de sol\u00b7licitud/resposta. Quan un client estableix una connexi\u00f3 amb un servidor i envia un missatge amb les dades de la sol\u00b7licitud, el servidor respon amb un missatge similar que cont\u00e9 l'estat de l'operaci\u00f3 i el seu resultat de la sol\u00b7licitud. Totes les operacions poden adjuntar un objecte o recurs sobre el qual actuen; cada objecte web (document HTML, arxiu multim\u00e8dia o aplicaci\u00f3 CGI) \u00e9s conegut pel seu localitzador uniforme de recursos (URL, Uniform Resource Locator ). Els recursos poden ser arxius, el resultat de l'execuci\u00f3 d'un programa, una consulta a una base de dades, la traducci\u00f3 autom\u00e0tica d'un document, etc. HTTP \u00e9s un protocol sense estat , \u00e9s a dir, no guarda cap informaci\u00f3 sobre connexions anteriors. El desenvolupament d'aplicacions web freq\u00fcentment necessita mantenir estat. Per aix\u00f2 s'utilitzen les galetes ( cookies ), \u00e9s a dir, la informaci\u00f3 que un servidor pot emmagatzemar en el sistema client. Aix\u00f2 permet que les aplicacions web institueixin la noci\u00f3 de \"sessi\u00f3\", i, alhora, permet rastrejar usuaris, ja que les galetes es poden emmagatzemar en el client durant un temps indeterminat. Amb la intenci\u00f3 de con\u00e8ixer amb m\u00e9s profunditat el protocol HTTP podem avaluar en qu\u00e8 consisteix una transacci\u00f3 HTTP. Cada vegada que un client fa una petici\u00f3 a un servidor, s'executen un seguit d'accions: Un usuari accedeix a una adre\u00e7a d'Internet (URL) seleccionant un enlla\u00e7 d'un document HTML o introduint-la directament a la barra de navegaci\u00f3 d'un navegador web des de la perspectiva del client web. El client web descodifica l'adre\u00e7a d'Internet (URL) separant-ne les diferents parts. \u00c9s aix\u00ed com s'identifiquen el protocol d'acc\u00e9s, el node expressat amb el nom de domini o la seua adre\u00e7a IP, el possible port opcional (el valor per defecte \u00e9s el 80) i l'objecte del servidor requerit. S'obre una connexi\u00f3 TCP/IP amb el servidor cridant el port TCP corresponent. Es fa la petici\u00f3. En conseq\u00fc\u00e8ncia, s'envien l'ordre necess\u00e0ria (GET, POST, HEAD, etc.), l'adre\u00e7a de l'objecte requerit (el contingut de l'adre\u00e7a d'Internet del servidor), la versi\u00f3 del protocol HTTP utilitzada (en la major part de les ocasions \u00e9s HTTP/1.0) i un conjunt variable d'informaci\u00f3 que inclou dades sobre les capacitats del navegador web, dades opcionals per al servidor, etc. El servidor localitza el recurs sol\u00b7licitat i torna la resposta al client. Aquesta resposta consisteix en un codi d'estat i el tipus de dada amb extensions multiprop\u00f2sit de correu d'Internet (MIME, Multipurpose Internet Mail Extension) de la informaci\u00f3 de tornada, seguit de la mateixa informaci\u00f3. El client formata i mostra el recurs rebut. Es tanca la connexi\u00f3 TCP. Aquest proc\u00e9s es repeteix en cada acc\u00e9s que es fa\u00e7a al servidor HTTP. Per exemple, si es recull un document HTML que cont\u00e9 quatre imatges, el proc\u00e9s de transici\u00f3 mostrat amb anterioritat es repeteix cinc vegades, \u00e9s a dir, una pel document HTML i quatre per les imatges. Si el recurs sol\u00b7licitat \u00e9s un programa (CGI, ASP.NET, PHP, etc.) el servidor HTTP redirigir\u00e0 la petici\u00f3 a la llibreria o int\u00e8rpret adequat que executar\u00e0 el programa i tornar\u00e0 el control al servidor web. Format de les URL La sintaxi general de les URL consisteix en una seq\u00fc\u00e8ncia jer\u00e0rquica de 5 components: URI = scheme:[//authority]path[?query][#fragment] on el component authoriry es deivideix en tres subcomponents: authority = [userinfo@]host[:port] El model client/servidor El model client-servidor \u00e9s aquell on tots els clients estan connectats a un servidor on es centralitzen els diferents recursos. Aquests recursos estan a disposici\u00f3 dels clients cada cop que els sol\u00b7liciten. Aix\u00f2 fa que totes les gestions que es realitzen es concentren en el servidor, que disposa dels requeriments dels clients amb prioritat, els arxius que s\u00f3n d'\u00fas p\u00fablic i els restringits, els arxius de nom\u00e9s lectura, els que poden ser modificats, etc. En el model client/servidor, el dispositiu que sol\u00b7licita informaci\u00f3 es denomina client i el dispositiu que respon la sol\u00b7licitud es denomina servidor. Els processos de client i servidor es consideren una part de la capa d'aplicaci\u00f3. El client comen\u00e7a l'intercanvi sol\u00b7licitant les dades al servidor, que respon enviant un o m\u00e9s blocs de dades al client. Els protocols de capa d'aplicaci\u00f3 descriuen el format de les sol\u00b7licituds i respostes entre clients i servidor. A m\u00e9s de la transfer\u00e8ncia real de dades, aquest intercanvi pot requerir informaci\u00f3 addicional, com l'autentificaci\u00f3 de l'usuari i la identificaci\u00f3 d'un arxiu de dades per transferir. Encara que les dades generalment es descriuen com un flux del servidor al client, algunes dades sempre flueixen del client al servidor. El flux de dades pot ser el mateix en les dues direccions o fins i tot ser major en la direcci\u00f3 que va del client al servidor. Per exemple, un client pot transferir un arxiu al servidor amb finalitats d'emmagatzemament. La transfer\u00e8ncia de dades d'un client a un servidor es coneix com a pujada i la de les dades d'un servidor a un client, baixada. P\u00e0gines web est\u00e0tiques i din\u00e0miques P\u00e0gines web est\u00e0tiques Les p\u00e0gines web est\u00e0tiques s\u00f3n aquelles on el seu contingut no varia per la qual cosa mostraran la mateixa informaci\u00f3 cada vegada que es carreguen. S\u00f3n les p\u00e0gines creades en el llenguatge HTML. Nom\u00e9s canvien si el programador web les modifica. P\u00e0gines web din\u00e0miques Les p\u00e0gines web din\u00e0miques s\u00f3n p\u00e0gines el contingut de les quals varia a partir d'informaci\u00f3 continguda en una BBDD. El contingut mostrat pot canviar segons l'usuari connectat, el navegador que s'utiltze o accions anteriors dels usuaris, etc. Aquest tipus de p\u00e0gines s'han de realitzar mitjan\u00e7at un llenguatge de programaci\u00f3. Execuci\u00f3 de codi en el client i en el servidor En el seg\u00fcent gr\u00e0fic es mostra un escenari on podem trobar codi que s'executa en el servidor (PHP) i en el client (javascript).","title":"1. Arquitectura d'una aplicaci\u00f3 web"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/1_arquitectura_duna_aplicaci_web/#arquitectura-duna-aplicacio-web","text":"A difer\u00e8ncia de les aplicacions d'escriptori, que utilitzen els recursos d'un \u00fanic ordinador les aplicacions web s\u00f3n distribu\u00efdes, intervenen com a m\u00ednin dos equipos diferents: el client i el servidor. La comunicaci\u00f3 \u00e9s du a terme mitjan\u00e7ant un protocol, en el nostre cas el protocol HTTP, base de la WWW.","title":"Arquitectura d'una aplicaci\u00f3 web"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/1_arquitectura_duna_aplicaci_web/#elements-navegador-servidor-protocol-http-i-html","text":"El protocol de transfer\u00e8ncia d'hipertext (HTTP) \u00e9s un protocol client-servidor molt senzill que articula els intercanvis d'informaci\u00f3 entre els clients web (navegadors) i els servidors HTTP. HTTP es basa en operacions senzilles de sol\u00b7licitud/resposta. Quan un client estableix una connexi\u00f3 amb un servidor i envia un missatge amb les dades de la sol\u00b7licitud, el servidor respon amb un missatge similar que cont\u00e9 l'estat de l'operaci\u00f3 i el seu resultat de la sol\u00b7licitud. Totes les operacions poden adjuntar un objecte o recurs sobre el qual actuen; cada objecte web (document HTML, arxiu multim\u00e8dia o aplicaci\u00f3 CGI) \u00e9s conegut pel seu localitzador uniforme de recursos (URL, Uniform Resource Locator ). Els recursos poden ser arxius, el resultat de l'execuci\u00f3 d'un programa, una consulta a una base de dades, la traducci\u00f3 autom\u00e0tica d'un document, etc. HTTP \u00e9s un protocol sense estat , \u00e9s a dir, no guarda cap informaci\u00f3 sobre connexions anteriors. El desenvolupament d'aplicacions web freq\u00fcentment necessita mantenir estat. Per aix\u00f2 s'utilitzen les galetes ( cookies ), \u00e9s a dir, la informaci\u00f3 que un servidor pot emmagatzemar en el sistema client. Aix\u00f2 permet que les aplicacions web institueixin la noci\u00f3 de \"sessi\u00f3\", i, alhora, permet rastrejar usuaris, ja que les galetes es poden emmagatzemar en el client durant un temps indeterminat. Amb la intenci\u00f3 de con\u00e8ixer amb m\u00e9s profunditat el protocol HTTP podem avaluar en qu\u00e8 consisteix una transacci\u00f3 HTTP. Cada vegada que un client fa una petici\u00f3 a un servidor, s'executen un seguit d'accions: Un usuari accedeix a una adre\u00e7a d'Internet (URL) seleccionant un enlla\u00e7 d'un document HTML o introduint-la directament a la barra de navegaci\u00f3 d'un navegador web des de la perspectiva del client web. El client web descodifica l'adre\u00e7a d'Internet (URL) separant-ne les diferents parts. \u00c9s aix\u00ed com s'identifiquen el protocol d'acc\u00e9s, el node expressat amb el nom de domini o la seua adre\u00e7a IP, el possible port opcional (el valor per defecte \u00e9s el 80) i l'objecte del servidor requerit. S'obre una connexi\u00f3 TCP/IP amb el servidor cridant el port TCP corresponent. Es fa la petici\u00f3. En conseq\u00fc\u00e8ncia, s'envien l'ordre necess\u00e0ria (GET, POST, HEAD, etc.), l'adre\u00e7a de l'objecte requerit (el contingut de l'adre\u00e7a d'Internet del servidor), la versi\u00f3 del protocol HTTP utilitzada (en la major part de les ocasions \u00e9s HTTP/1.0) i un conjunt variable d'informaci\u00f3 que inclou dades sobre les capacitats del navegador web, dades opcionals per al servidor, etc. El servidor localitza el recurs sol\u00b7licitat i torna la resposta al client. Aquesta resposta consisteix en un codi d'estat i el tipus de dada amb extensions multiprop\u00f2sit de correu d'Internet (MIME, Multipurpose Internet Mail Extension) de la informaci\u00f3 de tornada, seguit de la mateixa informaci\u00f3. El client formata i mostra el recurs rebut. Es tanca la connexi\u00f3 TCP. Aquest proc\u00e9s es repeteix en cada acc\u00e9s que es fa\u00e7a al servidor HTTP. Per exemple, si es recull un document HTML que cont\u00e9 quatre imatges, el proc\u00e9s de transici\u00f3 mostrat amb anterioritat es repeteix cinc vegades, \u00e9s a dir, una pel document HTML i quatre per les imatges. Si el recurs sol\u00b7licitat \u00e9s un programa (CGI, ASP.NET, PHP, etc.) el servidor HTTP redirigir\u00e0 la petici\u00f3 a la llibreria o int\u00e8rpret adequat que executar\u00e0 el programa i tornar\u00e0 el control al servidor web.","title":"Elements: navegador, servidor, protocol HTTP i HTML"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/1_arquitectura_duna_aplicaci_web/#format-de-les-url","text":"La sintaxi general de les URL consisteix en una seq\u00fc\u00e8ncia jer\u00e0rquica de 5 components: URI = scheme:[//authority]path[?query][#fragment] on el component authoriry es deivideix en tres subcomponents: authority = [userinfo@]host[:port]","title":"Format de les URL"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/1_arquitectura_duna_aplicaci_web/#el-model-clientservidor","text":"El model client-servidor \u00e9s aquell on tots els clients estan connectats a un servidor on es centralitzen els diferents recursos. Aquests recursos estan a disposici\u00f3 dels clients cada cop que els sol\u00b7liciten. Aix\u00f2 fa que totes les gestions que es realitzen es concentren en el servidor, que disposa dels requeriments dels clients amb prioritat, els arxius que s\u00f3n d'\u00fas p\u00fablic i els restringits, els arxius de nom\u00e9s lectura, els que poden ser modificats, etc. En el model client/servidor, el dispositiu que sol\u00b7licita informaci\u00f3 es denomina client i el dispositiu que respon la sol\u00b7licitud es denomina servidor. Els processos de client i servidor es consideren una part de la capa d'aplicaci\u00f3. El client comen\u00e7a l'intercanvi sol\u00b7licitant les dades al servidor, que respon enviant un o m\u00e9s blocs de dades al client. Els protocols de capa d'aplicaci\u00f3 descriuen el format de les sol\u00b7licituds i respostes entre clients i servidor. A m\u00e9s de la transfer\u00e8ncia real de dades, aquest intercanvi pot requerir informaci\u00f3 addicional, com l'autentificaci\u00f3 de l'usuari i la identificaci\u00f3 d'un arxiu de dades per transferir. Encara que les dades generalment es descriuen com un flux del servidor al client, algunes dades sempre flueixen del client al servidor. El flux de dades pot ser el mateix en les dues direccions o fins i tot ser major en la direcci\u00f3 que va del client al servidor. Per exemple, un client pot transferir un arxiu al servidor amb finalitats d'emmagatzemament. La transfer\u00e8ncia de dades d'un client a un servidor es coneix com a pujada i la de les dades d'un servidor a un client, baixada.","title":"El model client/servidor"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/1_arquitectura_duna_aplicaci_web/#pagines-web-estatiques-i-dinamiques","text":"","title":"P\u00e0gines web est\u00e0tiques i din\u00e0miques"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/1_arquitectura_duna_aplicaci_web/#pagines-web-estatiques","text":"Les p\u00e0gines web est\u00e0tiques s\u00f3n aquelles on el seu contingut no varia per la qual cosa mostraran la mateixa informaci\u00f3 cada vegada que es carreguen. S\u00f3n les p\u00e0gines creades en el llenguatge HTML. Nom\u00e9s canvien si el programador web les modifica.","title":"P\u00e0gines web est\u00e0tiques"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/1_arquitectura_duna_aplicaci_web/#pagines-web-dinamiques","text":"Les p\u00e0gines web din\u00e0miques s\u00f3n p\u00e0gines el contingut de les quals varia a partir d'informaci\u00f3 continguda en una BBDD. El contingut mostrat pot canviar segons l'usuari connectat, el navegador que s'utiltze o accions anteriors dels usuaris, etc. Aquest tipus de p\u00e0gines s'han de realitzar mitjan\u00e7at un llenguatge de programaci\u00f3.","title":"P\u00e0gines web din\u00e0miques"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/1_arquitectura_duna_aplicaci_web/#execucio-de-codi-en-el-client-i-en-el-servidor","text":"En el seg\u00fcent gr\u00e0fic es mostra un escenari on podem trobar codi que s'executa en el servidor (PHP) i en el client (javascript).","title":"Execuci\u00f3 de codi en el client i en el servidor"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/2_tecnologies_per_a_programaci_web_del_costat_del_servidor.html/","text":"2. Tecnologies per a programaci\u00f3 web del costat del servidor Introducci\u00f3 Des d'un punt de vista de desenvolupament una aproximaci\u00f3 m\u00e9s detallada al model client-servidor \u00e9s el que es coneix com a model en 3 capes . \u00c9s un model on es mostra m\u00e9s en detall com es distribueix el programari que participa en qualsevol desenvolupament web. Segueix estant present l'arquitectura client-servidor (tot es basa en ella) per\u00f2 apareixen m\u00e9s detalls com el programari utilitzat en cada un dels dos actors i com interactuen les diferents tecnologies o aplicacions. Per comprendre millor que \u00e9s el model de desenvolupament de 3 capes podem tirar un ull al seg\u00fcent esquema on es mostra cadascuna d'aquestes capes i que s'encarrega cadascuna d'elles: Capa de presentaci\u00f3: \u00c9s la capa on l'aplicaci\u00f3 es mostra a l'usuari. B\u00e0sicament \u00e9s la GUI ( Graphical User Interface, interf\u00edcie gr\u00e0fica d'usuari ). En el cas d'una aplicaci\u00f3 web seria el codi HTML que es carrega directament al navegador web. En qualsevol cas, s'executa directament en l'equip del client. Capa de negoci: \u00c9s la capa interm\u00e8dia on es porta a terme tota la l\u00f2gica de l'aplicaci\u00f3. Sempre s'executar\u00e0 en el costat servidor. Aquesta capa, despr\u00e9s de realitzar tots els c\u00e0lculs i / o operacions sobre les dades, genera el codi HTML que ser\u00e0 presentat a l'usuari en la capa seg\u00fcent. Capa de dades: \u00c9s la capa que emmagatzema les dades. B\u00e0sicament, en condicions normals, fa refer\u00e8ncia al propi SGBD que \u00e9s l'encarregat d'emmagatzemar les dades. Depenent de l'arquitectura de l'aplicaci\u00f3, aquesta capa i la de negoci es poden trobar f\u00edsicament en el mateix equip, encara que tamb\u00e9 \u00e9s possible que s'hagin de separar per q\u00fcestions de rendiment. La capa de dades serveix totes la informaci\u00f3 necess\u00e0ria a la capa de negoci per dur a terme les seves operacions. Si ens imaginem una botiga online, la capa de dades emmagatzema tota la informaci\u00f3 en una base de dades (usuaris, comandes, articles, ofertes,...), La capa de negoci ha d'accedir a aquesta informaci\u00f3 i, despr\u00e9s processar una comanda, per exemple, ha de presentar el resultat final a l'usuari en el navegador, que \u00e9s la capa de presentaci\u00f3. I si ens centrem en un cas concret amb programari i tecnologies ja definits, un model de 3 capes podria ser el seg\u00fcent: Navegador web: En aquest cas, Mozilla Firefox, Internet Explorer o Google Chrome podrien ser qualsevol de les aplicacions que ocuparien aquesta capa Apache + PHP / IIS + ASP: Un servidor web acompanyat del seu corresponent llenguatge de programaci\u00f3 web permeten desenvolupar la part que ocupa la capa de negoci. Tamb\u00e9 podr\u00edem col\u00b7locar la combinaci\u00f3 Apache Tomcat + Servlets MySQL / PostgreSQL: Finalment a la capa de dades podem posar qualsevol SGBD, com poden ser MySQL o PostgreSQL. L'avantatge principal d'aquest model \u00e9s que el desenvolupament es pot dur a terme en diversos nivells i, en cas que sobrevinga algun canvi, nom\u00e9s afectar\u00e0 el nivell requerit sense haver de revisar entre el codi font d'altres m\u00f2duls, at\u00e8s que s'haur\u00e0 redu\u00eft el acoblament inform\u00e0tic fins a una interf\u00edcie de pas de missatges. ::: Front-end, Back-end, Full stack Tamb\u00e9 tenint en compte en quin costat se situen les tecnologies i per a qu\u00e8 s'utilitzen aquestes, actualment es parla molt de 3 perfils diferenciats en l'\u00e0mbit del desenvolupament web: Front-end: \u00c9s la part del desenvolupament que s'encarrega del disseny i maquetaci\u00f3 de l'aplicaci\u00f3 web utilitzant tecnologies com HTML, CSS i Javascript (i els seus frameworks). En aquest cas s'ha de preocupar tamb\u00e9 de la correcta presentaci\u00f3 en qualsevol tipus de dispositiu i fins i tot del posicionament en cercadors Back-end: \u00c9s la part del desenvolupament que s'encarrega del costat servidor utilitzant tecnologies com PHP, JSP i Python. Tamb\u00e9 s'encarrega de l'administraci\u00f3 del servidor d'aplicacions i la base de dades. Full stack: En un perfil que engloba els dos anteriors. En aquest cas el desenvolupador potser no \u00e9s un expert de cap tecnologia concreta per\u00f2 t\u00e9 amplis coneixements de tot el conjunt i \u00e9s capa\u00e7 de col\u00b7laborar en qualsevol de les parts. Servidors web i servidors d'aplicacions Aix\u00ed com les aplicacions d'escriptori s'executen directament sobre el sistema operatiu, les aplicacions web necessiten d'una eina addicional que permeti desplegar-les per a la seva posada en marxa. Parlem de servidors web i servidors d'aplicacions , respectivament. Qu\u00e8 \u00e9s un servidor web? Un servidor web \u00e9s una aplicaci\u00f3 que rep una petici\u00f3 HTTP (normalment a trav\u00e9s d'un navegador web) i retorna la p\u00e0gina web sol\u00b7licitada (escrita en llenguatge HTML i podent contenir codi Javascript encastat) perqu\u00e8 aquesta sigua interpretada i visualitzada pel navegador de qui va realitzar la sol\u00b7licitud (l'usuari). Qu\u00e8 \u00e9s un servidor d'aplicacions? Un servidor d'aplicacions \u00e9s un servidor que permet l'execuci\u00f3 d'aplicacions web. Exemples Apache Apache \u00e9s un dels servidors web m\u00e9s coneguts. \u00c9s programari lliure i multiplataforma, encara que aproximadament el 90% dels servidors Apache s'executen actualment en entorns Linux ja que \u00e9s el servidor preferit per a aquesta plataforma. \u00c9s molt modular el que permet incorporar caracter\u00edstiques un cop instal\u00b7lat i posat en marxa. Aix\u00f2 li fa tamb\u00e9 molt flexible i pot donar servei a webs escrites en els llenguatges de programaci\u00f3 web m\u00e9s estesos (com PHP, Python, ASP,...) A trav\u00e9s del m\u00f2dul corresponent. Apache Tomcat Apache Tomcat \u00e9s un servidor d'aplicacions que funciona com a contenidor de Servlets de Java. Actualment \u00e9s capa\u00e7 d'implementar diverses especificacions de Java EE com Servlets i JSP (Java Server Pages) i m\u00e9s proporciona un servidor web pur perqu\u00e8 es fa\u00e7a servir en combinaci\u00f3 amb l'entorn Java. WSGI ( Web Server Gateway Interface ) WSGI \u00e9s una interf\u00edcie que defineix com es comunica un servidor web amb aplicacions web o frameworks escrits en Python.","title":"2. Tecnologies per a programaci\u00f3 web del costat del servidor"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/2_tecnologies_per_a_programaci_web_del_costat_del_servidor.html/#2-tecnologies-per-a-programacio-web-del-costat-del-servidor","text":"","title":"2. Tecnologies per a programaci\u00f3 web del costat del servidor"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/2_tecnologies_per_a_programaci_web_del_costat_del_servidor.html/#introduccio","text":"Des d'un punt de vista de desenvolupament una aproximaci\u00f3 m\u00e9s detallada al model client-servidor \u00e9s el que es coneix com a model en 3 capes . \u00c9s un model on es mostra m\u00e9s en detall com es distribueix el programari que participa en qualsevol desenvolupament web. Segueix estant present l'arquitectura client-servidor (tot es basa en ella) per\u00f2 apareixen m\u00e9s detalls com el programari utilitzat en cada un dels dos actors i com interactuen les diferents tecnologies o aplicacions. Per comprendre millor que \u00e9s el model de desenvolupament de 3 capes podem tirar un ull al seg\u00fcent esquema on es mostra cadascuna d'aquestes capes i que s'encarrega cadascuna d'elles: Capa de presentaci\u00f3: \u00c9s la capa on l'aplicaci\u00f3 es mostra a l'usuari. B\u00e0sicament \u00e9s la GUI ( Graphical User Interface, interf\u00edcie gr\u00e0fica d'usuari ). En el cas d'una aplicaci\u00f3 web seria el codi HTML que es carrega directament al navegador web. En qualsevol cas, s'executa directament en l'equip del client. Capa de negoci: \u00c9s la capa interm\u00e8dia on es porta a terme tota la l\u00f2gica de l'aplicaci\u00f3. Sempre s'executar\u00e0 en el costat servidor. Aquesta capa, despr\u00e9s de realitzar tots els c\u00e0lculs i / o operacions sobre les dades, genera el codi HTML que ser\u00e0 presentat a l'usuari en la capa seg\u00fcent. Capa de dades: \u00c9s la capa que emmagatzema les dades. B\u00e0sicament, en condicions normals, fa refer\u00e8ncia al propi SGBD que \u00e9s l'encarregat d'emmagatzemar les dades. Depenent de l'arquitectura de l'aplicaci\u00f3, aquesta capa i la de negoci es poden trobar f\u00edsicament en el mateix equip, encara que tamb\u00e9 \u00e9s possible que s'hagin de separar per q\u00fcestions de rendiment. La capa de dades serveix totes la informaci\u00f3 necess\u00e0ria a la capa de negoci per dur a terme les seves operacions. Si ens imaginem una botiga online, la capa de dades emmagatzema tota la informaci\u00f3 en una base de dades (usuaris, comandes, articles, ofertes,...), La capa de negoci ha d'accedir a aquesta informaci\u00f3 i, despr\u00e9s processar una comanda, per exemple, ha de presentar el resultat final a l'usuari en el navegador, que \u00e9s la capa de presentaci\u00f3. I si ens centrem en un cas concret amb programari i tecnologies ja definits, un model de 3 capes podria ser el seg\u00fcent: Navegador web: En aquest cas, Mozilla Firefox, Internet Explorer o Google Chrome podrien ser qualsevol de les aplicacions que ocuparien aquesta capa Apache + PHP / IIS + ASP: Un servidor web acompanyat del seu corresponent llenguatge de programaci\u00f3 web permeten desenvolupar la part que ocupa la capa de negoci. Tamb\u00e9 podr\u00edem col\u00b7locar la combinaci\u00f3 Apache Tomcat + Servlets MySQL / PostgreSQL: Finalment a la capa de dades podem posar qualsevol SGBD, com poden ser MySQL o PostgreSQL. L'avantatge principal d'aquest model \u00e9s que el desenvolupament es pot dur a terme en diversos nivells i, en cas que sobrevinga algun canvi, nom\u00e9s afectar\u00e0 el nivell requerit sense haver de revisar entre el codi font d'altres m\u00f2duls, at\u00e8s que s'haur\u00e0 redu\u00eft el acoblament inform\u00e0tic fins a una interf\u00edcie de pas de missatges. :::","title":"Introducci\u00f3"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/2_tecnologies_per_a_programaci_web_del_costat_del_servidor.html/#front-end-back-end-full-stack","text":"Tamb\u00e9 tenint en compte en quin costat se situen les tecnologies i per a qu\u00e8 s'utilitzen aquestes, actualment es parla molt de 3 perfils diferenciats en l'\u00e0mbit del desenvolupament web: Front-end: \u00c9s la part del desenvolupament que s'encarrega del disseny i maquetaci\u00f3 de l'aplicaci\u00f3 web utilitzant tecnologies com HTML, CSS i Javascript (i els seus frameworks). En aquest cas s'ha de preocupar tamb\u00e9 de la correcta presentaci\u00f3 en qualsevol tipus de dispositiu i fins i tot del posicionament en cercadors Back-end: \u00c9s la part del desenvolupament que s'encarrega del costat servidor utilitzant tecnologies com PHP, JSP i Python. Tamb\u00e9 s'encarrega de l'administraci\u00f3 del servidor d'aplicacions i la base de dades. Full stack: En un perfil que engloba els dos anteriors. En aquest cas el desenvolupador potser no \u00e9s un expert de cap tecnologia concreta per\u00f2 t\u00e9 amplis coneixements de tot el conjunt i \u00e9s capa\u00e7 de col\u00b7laborar en qualsevol de les parts.","title":"Front-end, Back-end, Full stack"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/2_tecnologies_per_a_programaci_web_del_costat_del_servidor.html/#servidors-web-i-servidors-daplicacions","text":"Aix\u00ed com les aplicacions d'escriptori s'executen directament sobre el sistema operatiu, les aplicacions web necessiten d'una eina addicional que permeti desplegar-les per a la seva posada en marxa. Parlem de servidors web i servidors d'aplicacions , respectivament.","title":"Servidors web i servidors d'aplicacions"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/2_tecnologies_per_a_programaci_web_del_costat_del_servidor.html/#que-es-un-servidor-web","text":"Un servidor web \u00e9s una aplicaci\u00f3 que rep una petici\u00f3 HTTP (normalment a trav\u00e9s d'un navegador web) i retorna la p\u00e0gina web sol\u00b7licitada (escrita en llenguatge HTML i podent contenir codi Javascript encastat) perqu\u00e8 aquesta sigua interpretada i visualitzada pel navegador de qui va realitzar la sol\u00b7licitud (l'usuari).","title":"Qu\u00e8 \u00e9s un servidor web?"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/2_tecnologies_per_a_programaci_web_del_costat_del_servidor.html/#que-es-un-servidor-daplicacions","text":"Un servidor d'aplicacions \u00e9s un servidor que permet l'execuci\u00f3 d'aplicacions web.","title":"Qu\u00e8 \u00e9s un servidor d'aplicacions?"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/2_tecnologies_per_a_programaci_web_del_costat_del_servidor.html/#exemples","text":"","title":"Exemples"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/2_tecnologies_per_a_programaci_web_del_costat_del_servidor.html/#apache","text":"Apache \u00e9s un dels servidors web m\u00e9s coneguts. \u00c9s programari lliure i multiplataforma, encara que aproximadament el 90% dels servidors Apache s'executen actualment en entorns Linux ja que \u00e9s el servidor preferit per a aquesta plataforma. \u00c9s molt modular el que permet incorporar caracter\u00edstiques un cop instal\u00b7lat i posat en marxa. Aix\u00f2 li fa tamb\u00e9 molt flexible i pot donar servei a webs escrites en els llenguatges de programaci\u00f3 web m\u00e9s estesos (com PHP, Python, ASP,...) A trav\u00e9s del m\u00f2dul corresponent.","title":"Apache"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/2_tecnologies_per_a_programaci_web_del_costat_del_servidor.html/#apache-tomcat","text":"Apache Tomcat \u00e9s un servidor d'aplicacions que funciona com a contenidor de Servlets de Java. Actualment \u00e9s capa\u00e7 d'implementar diverses especificacions de Java EE com Servlets i JSP (Java Server Pages) i m\u00e9s proporciona un servidor web pur perqu\u00e8 es fa\u00e7a servir en combinaci\u00f3 amb l'entorn Java.","title":"Apache Tomcat"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/2_tecnologies_per_a_programaci_web_del_costat_del_servidor.html/#wsgi-web-server-gateway-interface","text":"WSGI \u00e9s una interf\u00edcie que defineix com es comunica un servidor web amb aplicacions web o frameworks escrits en Python.","title":"WSGI (Web Server Gateway Interface)"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/3_llenguatges.html/","text":"3. Llenguatges PHP PHP (PHP Hypertext Preprocessor) \u00e9s un llenguatge de programaci\u00f3 de costat servidor dissenyat principalment per al desenvolupament web. PHP s'utilitza com a llenguatge de script embegut en p\u00e0gines HTML i funciona, normalment, com un m\u00f2dul del servidor web (per exemple, a Apache). El servidor web combina els resultats d'executar els scripts PHP amb l'HTML al qual va encastat i genera la p\u00e0gina web resultant per al navegador. Actualment PHP funciona pr\u00e0cticament amb qualsevol servidor web i en qualsevol Sistema Operatiu existents, i gaireb\u00e9 amb qualsevol SGBD en cas que necessitem utilitzar una base de dades. Tot i aix\u00f2, el m\u00e9s habitual \u00e9s veure-ho formant el que es coneix com una arquitectura LAMP (Linux, Apache, MySQL i PHP), \u00e9s a dir, funcionant sobre un sistema operatiu Linux, executant-com un m\u00f2dul del servidor web Apache i utilitzant a MySQL com SGBD per emmagatzemar la informaci\u00f3 en cas que es requereixi una base de dades. El llenguatge PHP va ser dissenyat per Rasmus Lerdorf i ara es mant\u00e9 per una comunitat de desenvolupadors, a m\u00e9s \u00e9s de codi obert. A continuaci\u00f3, un fragment d'una p\u00e0gina web din\u00e0mica escrita amb PHP on es pot apreciar com s'incrusta el codi juntament amb l'HTML de la p\u00e0gina: JSP / Servlets JavaServer Pages (tamb\u00e9 conegut com JSP) \u00e9s una tecnologia creada per a la creaci\u00f3 de p\u00e0gines web din\u00e0miques del costat servidor. Igual que PHP, el seu codi s'escriu encastat juntament amb l'HTML de la p\u00e0gina web i \u00e9s el servidor d'aplicacions, en aquest cas, qui ha de processar-per generar la p\u00e0gina web resultant, en HTML. D'altra banda, Java Servlets \u00e9s una tecnologia que tamb\u00e9 es pot utilitzar per crear contingut web din\u00e0mic per\u00f2 que a m\u00e9s est\u00e9n la seva funcionalitat a la possibilitat de connectar aquestes webs din\u00e0miques amb un altre contingut accessible a trav\u00e9s d'Internet. De vegades s'utilitza juntament amb JSP per crear aplicacions web m\u00e9s complexes. Totes dues s\u00f3n tecnologies desenvolupades per Sun Microsystems i propietat ara d'Oracle, despr\u00e9s d'adquirir aquesta \u00faltima a la primera fa ja alguns anys. Python El llenguatge Python va ser dissenyat per Guido van Rossum i ara es mant\u00e9 gr\u00e0cies a una comunitat de desenvolupadors, i \u00e9s codi obert. Exemple de codi escrit amb Python. En aquest cas utilitzant el framework Django per al desenvolupament d'aplicacions web: < h1 > Mis pel\u00edculas < /h1> <a href=\"#\">+</ a > { % if lista_peliculas %} <ul> {% for pelicula in lista_peliculas %} < li >< a href = \"{% url 'pelicula' pelicula.id %}\" > {{ pelicula . titulo }} < /a></ li > { % endfor %} </ul> {% else %} < p > No hay pel\u00edculas disponibles < /p> {% endif %} Separada del controlador: from django.shortcuts import render . . . def index ( request ): lista_peliculas = Pelicula . objects . all () context = { 'lista_peliculas' : lista_peliculas } return render ( request , 'mispeliculas/index.html' , context ) ASP.NET ASP.NET \u00e9s una tecnologia, creada per Microsoft, per al desenvolupament de lloc web din\u00e0mics, aplicacions i serveis web. \u00c9s la tecnologia successora del que abans es coneixia com ASP, l'antiga tecnologia de Microsoft per a la creaci\u00f3 de p\u00e0gines web din\u00e0miques. Com que funciona sobre la plataforma .NET de Microsoft, permet que es pugui desenvolupar en qualsevol dels llenguatges de programaci\u00f3 d'aquesta plataforma, Visual Basic .NET o C#. El m\u00e9s habitual \u00e9s veure-ho funcionar juntament amb el lloc web de Microsoft, IIS (Internet Information Server). A continuaci\u00f3, un exemple de p\u00e0gina web din\u00e0mica amb ASP.NET (desenvolupada en llenguatge C #) programant l'acci\u00f3 que passa en pr\u00e9mer un bot\u00f3 (apareix el text d'un formulari a la part final del web): protected void Button1_Click(object sender, EventArgs e) { string buf = TextBox1.Text; changed_text.InnerHtml = buf.ToUpper(); } < %@ Page Language=\"C#\" AutoEventWireup=\"true\" CodeBehind=\"Default.aspx.cs\" Inherits=\"firstexample._Default\" %> <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"> < html xmlns = \"http://www.w3.org/1999/xhtml\" > < head runat = \"server\" > < title > Untitled Page </ title > </ head > < body > < form id = \"form1\" runat = \"server\" > < div > < asp:TextBox ID = \"TextBox1\" runat = \"server\" style = \"width:224px\" > </ asp:TextBox > < asp:Button ID = \"Button1\" runat = \"server\" Text = \"Enter...\" style = \"width:85px\" onclick = \"Button1_Click\" /> < hr /> < h3 > Results: </ h3 > < span runat = \"server\" id = \"changed_text\" /> </ div > </ form > </ body > </ html >","title":"3. Llenguatges"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/3_llenguatges.html/#3-llenguatges","text":"","title":"3. Llenguatges"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/3_llenguatges.html/#php","text":"PHP (PHP Hypertext Preprocessor) \u00e9s un llenguatge de programaci\u00f3 de costat servidor dissenyat principalment per al desenvolupament web. PHP s'utilitza com a llenguatge de script embegut en p\u00e0gines HTML i funciona, normalment, com un m\u00f2dul del servidor web (per exemple, a Apache). El servidor web combina els resultats d'executar els scripts PHP amb l'HTML al qual va encastat i genera la p\u00e0gina web resultant per al navegador. Actualment PHP funciona pr\u00e0cticament amb qualsevol servidor web i en qualsevol Sistema Operatiu existents, i gaireb\u00e9 amb qualsevol SGBD en cas que necessitem utilitzar una base de dades. Tot i aix\u00f2, el m\u00e9s habitual \u00e9s veure-ho formant el que es coneix com una arquitectura LAMP (Linux, Apache, MySQL i PHP), \u00e9s a dir, funcionant sobre un sistema operatiu Linux, executant-com un m\u00f2dul del servidor web Apache i utilitzant a MySQL com SGBD per emmagatzemar la informaci\u00f3 en cas que es requereixi una base de dades. El llenguatge PHP va ser dissenyat per Rasmus Lerdorf i ara es mant\u00e9 per una comunitat de desenvolupadors, a m\u00e9s \u00e9s de codi obert. A continuaci\u00f3, un fragment d'una p\u00e0gina web din\u00e0mica escrita amb PHP on es pot apreciar com s'incrusta el codi juntament amb l'HTML de la p\u00e0gina:","title":"PHP"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/3_llenguatges.html/#jsp-servlets","text":"JavaServer Pages (tamb\u00e9 conegut com JSP) \u00e9s una tecnologia creada per a la creaci\u00f3 de p\u00e0gines web din\u00e0miques del costat servidor. Igual que PHP, el seu codi s'escriu encastat juntament amb l'HTML de la p\u00e0gina web i \u00e9s el servidor d'aplicacions, en aquest cas, qui ha de processar-per generar la p\u00e0gina web resultant, en HTML. D'altra banda, Java Servlets \u00e9s una tecnologia que tamb\u00e9 es pot utilitzar per crear contingut web din\u00e0mic per\u00f2 que a m\u00e9s est\u00e9n la seva funcionalitat a la possibilitat de connectar aquestes webs din\u00e0miques amb un altre contingut accessible a trav\u00e9s d'Internet. De vegades s'utilitza juntament amb JSP per crear aplicacions web m\u00e9s complexes. Totes dues s\u00f3n tecnologies desenvolupades per Sun Microsystems i propietat ara d'Oracle, despr\u00e9s d'adquirir aquesta \u00faltima a la primera fa ja alguns anys.","title":"JSP / Servlets"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/3_llenguatges.html/#python","text":"El llenguatge Python va ser dissenyat per Guido van Rossum i ara es mant\u00e9 gr\u00e0cies a una comunitat de desenvolupadors, i \u00e9s codi obert. Exemple de codi escrit amb Python. En aquest cas utilitzant el framework Django per al desenvolupament d'aplicacions web: < h1 > Mis pel\u00edculas < /h1> <a href=\"#\">+</ a > { % if lista_peliculas %} <ul> {% for pelicula in lista_peliculas %} < li >< a href = \"{% url 'pelicula' pelicula.id %}\" > {{ pelicula . titulo }} < /a></ li > { % endfor %} </ul> {% else %} < p > No hay pel\u00edculas disponibles < /p> {% endif %} Separada del controlador: from django.shortcuts import render . . . def index ( request ): lista_peliculas = Pelicula . objects . all () context = { 'lista_peliculas' : lista_peliculas } return render ( request , 'mispeliculas/index.html' , context )","title":"Python"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/3_llenguatges.html/#aspnet","text":"ASP.NET \u00e9s una tecnologia, creada per Microsoft, per al desenvolupament de lloc web din\u00e0mics, aplicacions i serveis web. \u00c9s la tecnologia successora del que abans es coneixia com ASP, l'antiga tecnologia de Microsoft per a la creaci\u00f3 de p\u00e0gines web din\u00e0miques. Com que funciona sobre la plataforma .NET de Microsoft, permet que es pugui desenvolupar en qualsevol dels llenguatges de programaci\u00f3 d'aquesta plataforma, Visual Basic .NET o C#. El m\u00e9s habitual \u00e9s veure-ho funcionar juntament amb el lloc web de Microsoft, IIS (Internet Information Server). A continuaci\u00f3, un exemple de p\u00e0gina web din\u00e0mica amb ASP.NET (desenvolupada en llenguatge C #) programant l'acci\u00f3 que passa en pr\u00e9mer un bot\u00f3 (apareix el text d'un formulari a la part final del web): protected void Button1_Click(object sender, EventArgs e) { string buf = TextBox1.Text; changed_text.InnerHtml = buf.ToUpper(); } < %@ Page Language=\"C#\" AutoEventWireup=\"true\" CodeBehind=\"Default.aspx.cs\" Inherits=\"firstexample._Default\" %> <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"> < html xmlns = \"http://www.w3.org/1999/xhtml\" > < head runat = \"server\" > < title > Untitled Page </ title > </ head > < body > < form id = \"form1\" runat = \"server\" > < div > < asp:TextBox ID = \"TextBox1\" runat = \"server\" style = \"width:224px\" > </ asp:TextBox > < asp:Button ID = \"Button1\" runat = \"server\" Text = \"Enter...\" style = \"width:85px\" onclick = \"Button1_Click\" /> < hr /> < h3 > Results: </ h3 > < span runat = \"server\" id = \"changed_text\" /> </ div > </ form > </ body > </ html >","title":"ASP.NET"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/4_preparant_lentorn_de_desenvolupament.html/","text":"4. Preparant l'entorn de desenvolupament Per a poder provar els nostres llocs web necessitarem instal\u00b7lar una s\u00e8rie d'eines com s\u00f3n: el servidor web Apache, el m\u00f2dul PHP per a aquest servidor, el SGBD MySql, un front-end per al SGBD (PHPMyAdmin), etc. Per simplificar les coses optarem per instal\u00b7lar-ho mitjan\u00e7ant XAMPP, un paquet de programari lliure que cont\u00e9 el servidor HTTP Apache, la base de dades de MySQL i eines necess\u00e0ries per utilitzar el PHP i el llenguatge de programaci\u00f3 Perl. Pr\u00e0ctica 1: Instal\u00b7laci\u00f3 de XAMPP Descarreguem el paquet XAMPP per a la nostra m\u00e0quina (https://www.apachefriends.org/). Li donem permisos d'execuci\u00f3 a l'arxiu descarregat: sudo chmod +x xampp-linux-x64-7.3.9-0-installer.run Executem l'assistent d'instal\u00b7laci\u00f3 sudo ./xampp-linux-x64-7.3.9-0-installer.run En l'assistent d'instal\u00b7laci\u00f3, deixarem les opcions per defecte (excepte la qual ens parla de bitnami que la desmarcarem). Una vegada finalitzada la instal\u00b7laci\u00f3, el nostre XAMPP es trobar\u00e0 en el directori /opt/lampp Ara ja podem arrancar els serveis amb el seg\u00fcent comando: sudo /opt/lampp/lampp start Quan els arranquem, si obrim el navegador i ens anem a la url http://localhost, ens hauria d'apar\u00e8ixer la p\u00e0gina de benvinguda de XAMPP. Per a parar els serveis podem fer a\u00e7\u00f2: sudo /opt/lampp/xampp stop En qualsevol cas, \u00e9s molt m\u00e9s c\u00f2mode treballar amb el panell de control de XAMPP que podrem executar amb la seg\u00fcent ordre: sudo /opt/lampp/manager-linux-x64.run Veurem que s'inicia l'aplicaci\u00f3 que ens permet controlar els serveis de XAMPP.","title":"4. Preparant l'entorn de desenvolupament"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/4_preparant_lentorn_de_desenvolupament.html/#4-preparant-lentorn-de-desenvolupament","text":"Per a poder provar els nostres llocs web necessitarem instal\u00b7lar una s\u00e8rie d'eines com s\u00f3n: el servidor web Apache, el m\u00f2dul PHP per a aquest servidor, el SGBD MySql, un front-end per al SGBD (PHPMyAdmin), etc. Per simplificar les coses optarem per instal\u00b7lar-ho mitjan\u00e7ant XAMPP, un paquet de programari lliure que cont\u00e9 el servidor HTTP Apache, la base de dades de MySQL i eines necess\u00e0ries per utilitzar el PHP i el llenguatge de programaci\u00f3 Perl. Pr\u00e0ctica 1: Instal\u00b7laci\u00f3 de XAMPP Descarreguem el paquet XAMPP per a la nostra m\u00e0quina (https://www.apachefriends.org/). Li donem permisos d'execuci\u00f3 a l'arxiu descarregat: sudo chmod +x xampp-linux-x64-7.3.9-0-installer.run Executem l'assistent d'instal\u00b7laci\u00f3 sudo ./xampp-linux-x64-7.3.9-0-installer.run En l'assistent d'instal\u00b7laci\u00f3, deixarem les opcions per defecte (excepte la qual ens parla de bitnami que la desmarcarem). Una vegada finalitzada la instal\u00b7laci\u00f3, el nostre XAMPP es trobar\u00e0 en el directori /opt/lampp Ara ja podem arrancar els serveis amb el seg\u00fcent comando: sudo /opt/lampp/lampp start Quan els arranquem, si obrim el navegador i ens anem a la url http://localhost, ens hauria d'apar\u00e8ixer la p\u00e0gina de benvinguda de XAMPP. Per a parar els serveis podem fer a\u00e7\u00f2: sudo /opt/lampp/xampp stop En qualsevol cas, \u00e9s molt m\u00e9s c\u00f2mode treballar amb el panell de control de XAMPP que podrem executar amb la seg\u00fcent ordre: sudo /opt/lampp/manager-linux-x64.run Veurem que s'inicia l'aplicaci\u00f3 que ens permet controlar els serveis de XAMPP.","title":"4. Preparant l'entorn de desenvolupament"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/5_eines_de_desenvolupament.html/","text":"5. Eines de desevolupament Per a programar en llenguatges encastats com PHP, ASP o Phython \u00e9s suficient amb un editor de text pla. No obstant sempre \u00e9s recomanable treballar en un entorn integrat de desenvolupament o IDE (acr\u00f2nim en angl\u00e8s de Integrated development environment ). Un IDE \u00e9s una eina inform\u00e0tica per al desenvolupament de programari de manera c\u00f2moda i r\u00e0pida. Aix\u00ed doncs \u00e9s un entorn de desenvolupament que agrupa diferents funcions en un sol programa, habitualment: editor de codi, compilador, depurador i un programa de disseny d'interf\u00edcie gr\u00e0fica. El principal avantatge \u00e9s que facilita la tasca del programador mentre que l'inconvenient m\u00e9s important \u00e9s que pot provocar mals h\u00e0bits a l'hora de programar o provocar errors que a priori comen\u00e7ant de zero no es produirien. Alguns dels IDE m\u00e9s emprats per al desenvolupament web s\u00f3n: Eclipse Netbeans Atom Sublime PHPStorm Brackets Durant les activitats anteriors has preparat el teu propi entorn de desenvolupament sobre una m\u00e0quina virtual (o una real) tal com s'ha explicat en les anotacions. Despr\u00e9s, has de crear un projecte php utilitzant PHPStorm i visualitzar la p\u00e0gina principal a trav\u00e9s del teu servidor XAMPP. Al llarg del curs, crearem els nostres projectes utilitzant l'IDE PHPStorm. Aquesta eina \u00e9s de pagament, per\u00f2 podem utilitzar-la de forma gratu\u00efta per a projectes OpenSource i amb finalitats educatives. En aqueixos casos caldr\u00e0 sol\u00b7licitar la llic\u00e8ncia corresponent al fabricant del programari. Una vegada obtinguda la llic\u00e8ncia educativa pel professor, ser\u00e0 renovable anualment i podran utilitzar-la tots els alumnes del curs. \u00c9s una eina molt completa que ens permetr\u00e0 la integraci\u00f3 amb moltes de les funcionalitats que emprarem. Instal\u00b7lar PHPStorm Per a instal\u00b7lar l'IDE PHPStorm seguirem els seg\u00fcents passos: Executarem sudo snap install phpstorm --classic Ens demanar\u00e0 si volem importar dades d'una instal\u00b7laci\u00f3 anterior, al que contestarem, \u00f2bviament, que no. Ens demanar\u00e0 que acceptem la pol\u00edtica de privadesa. En executar l'aplicaci\u00f3 per primera vegada ens demanar\u00e0 les dades de llic\u00e8ncia. Cada alumne s'haur\u00e0 de registrar utilitzant l'enlla\u00e7 que us passar\u00e0 el professor en classe. en pr\u00e9mer l'enlla\u00e7 ens redirigir\u00e0 a la p\u00e0gina web de jetbrains perqu\u00e8 ens registrem. Una vegada registrats, podrem accedir a l'aplicaci\u00f3 amb el nostre compte o amb el codi d'activaci\u00f3 que ens proporcionen. Finalment, indicarem la configuraci\u00f3 inicial. Integrant l'executable de PHP PHPStorm disposa d'ajuda intel\u00b7ligent (IntelliJ IDEA). Perqu\u00e8 aquesta ajuda es corresponga amb la versi\u00f3 de php que tenim en el nostre XAMPP haurem de registrar l'executable de PHP de XAMPP en el nostre PHPStorm. Per a a\u00e7\u00f2 seguirem els seg\u00fcents passos: En la pantalla d'inici anem a Configure \u2013 Settings . En la llista de categories de l'esquerra anem a Language & Frameworks - PHP . Necessitem indicar quin \u00e9s el nostre int\u00e8rpret. ja que la llista est\u00e0 buida anem a configurar un de la seg\u00fcent forma: Fem clic en el bot\u00f3 ... de la llista d'int\u00e8rprets Premem el bot\u00f3 + de la cantonada superior esquerra per a afegir-ne un. Li posem el nom PHP de XAMPP. Indiquem instal\u00b7lat on nostre est\u00e0 XAMPP: /opt/lampp/bin/php Immediatament ens indicar\u00e0 la versi\u00f3 de l'int\u00e8rpret que tenim instal\u00b7lat Premem OK i seleccionem el nou interprete en la llista d'int\u00e8rprets. Finalment, seleccionem en l'opci\u00f3 PHP language level aquell que es corresponga amb l'int\u00e8rpret que acabem de configurar. Ara el nostre PHPStorm far\u00e0 \u00fas del PHP de XAMPP i utilitzar\u00e0 la versi\u00f3 de PHP que tenim instal\u00b7lada quan ens oferisca les ajudes. Primer projecte amb PHPStorm Per a comen\u00e7ar a treballar amb PHPStorm anem a crear el nostre primer projecte PHP buit. Tingueu en compte que el projecte heu de crear-ho en el directori /opt/lampp/htdocs i que necessitem tenir permisos d'escriptura en aquest directori. Compte! Pot ser que ho h\u00e0gem instal\u00b7lat com root , mentre que quan executem PHPStorm ho fem amb l'usuari dwes , per tant, l'usuari dwes necessita poder escriure en aquest directori. Per a assegurar-nos que tenim permisos, anirem amb una finestra de terminal al directori /opt/lampp i executarem la seg\u00fcent ordre: ls \u2013la htdocs Aquesta ordre ens dir\u00e0 qui \u00e9s el propietari de la carpeta i quins permisos t\u00e9. En el cas que el propietari siga root executarem la seguent ordre: sudo chown -hR dwes htdocs/ A\u00e7\u00f2 canviar\u00e0 el propietari a l'usuari dwes , amb el que tindrem perm\u00eds d'escriptura en aquest directori des de PHPStorm. Treballarem tenint els projectes en la mateixa carpeta. Pr\u00e0ctica 2. Instal\u00b7laci\u00f3 de PHPStorm Seguint les instruccions anteriors instal\u00b7la i configura PHP Storm. Creaci\u00f3 de projectes i comprovaci\u00f3 de la instal\u00b7laci\u00f3 de PHP Seguirem els passos que s'indiquen a continuaci\u00f3: Arrancar XAMPP Iniciar el m\u00f2dul Apache Executar PHPStorm Crear un projecte buit amb Create New > Project PHP Empty Project Posar al projecte el nom practica1 i situar-lo en el directori /opt/lampp/htdocs . Amb a\u00e7\u00f2 es crea un directori de nom practica1 dintre de /opt/lampp/htdocs . En la finestra de l'esquerra (explorador de projectes) apareix el projecte creat. Dins d'ell crearem un nou fitxer PHP prement bot\u00f3 dret sobre el nom i seleccionant New > PHP File . Li posem de nom index.php . En el fitxer creat introdu\u00efm les seg\u00fcents l\u00ednies de codi: <! doctype html > < html lang = \"es\" > < head > < meta charset = \"utf-8\" > < title > Desenvolupament web en entorn servidor </ title > < meta name = \"description\" content = \"PHP, PHPStorm\" > < meta name = \"author\" content = \"Homer Simpson\" > </ head > < body > <? php phpinfo (); ?> </body> </html> Canviem l'autor del document al nostre nom. Obrim el navegador i teclegem en la barra d'adreces la url: http://localhost/practica1 Apareixer\u00e0 una p\u00e0gina similar a la de la seg\u00fcent imatge: Pr\u00e0ctica 3: Prova d'Apache i PHP L'objectiu d'aquesta pr\u00e0ctica \u00e9s aprendre el maneig b\u00e0sic de l'entorn de desenvolupament PHPStorm creant una primera p\u00e0gina PHP que alhora servir\u00e0 per a comprovar la correcta instal\u00b7laci\u00f3 de XAMPP. Seguint les instruccions anterior crea projecte i prova'l.","title":"5. Eines de desevolupament"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/5_eines_de_desenvolupament.html/#5-eines-de-desevolupament","text":"Per a programar en llenguatges encastats com PHP, ASP o Phython \u00e9s suficient amb un editor de text pla. No obstant sempre \u00e9s recomanable treballar en un entorn integrat de desenvolupament o IDE (acr\u00f2nim en angl\u00e8s de Integrated development environment ). Un IDE \u00e9s una eina inform\u00e0tica per al desenvolupament de programari de manera c\u00f2moda i r\u00e0pida. Aix\u00ed doncs \u00e9s un entorn de desenvolupament que agrupa diferents funcions en un sol programa, habitualment: editor de codi, compilador, depurador i un programa de disseny d'interf\u00edcie gr\u00e0fica. El principal avantatge \u00e9s que facilita la tasca del programador mentre que l'inconvenient m\u00e9s important \u00e9s que pot provocar mals h\u00e0bits a l'hora de programar o provocar errors que a priori comen\u00e7ant de zero no es produirien. Alguns dels IDE m\u00e9s emprats per al desenvolupament web s\u00f3n: Eclipse Netbeans Atom Sublime PHPStorm Brackets Durant les activitats anteriors has preparat el teu propi entorn de desenvolupament sobre una m\u00e0quina virtual (o una real) tal com s'ha explicat en les anotacions. Despr\u00e9s, has de crear un projecte php utilitzant PHPStorm i visualitzar la p\u00e0gina principal a trav\u00e9s del teu servidor XAMPP. Al llarg del curs, crearem els nostres projectes utilitzant l'IDE PHPStorm. Aquesta eina \u00e9s de pagament, per\u00f2 podem utilitzar-la de forma gratu\u00efta per a projectes OpenSource i amb finalitats educatives. En aqueixos casos caldr\u00e0 sol\u00b7licitar la llic\u00e8ncia corresponent al fabricant del programari. Una vegada obtinguda la llic\u00e8ncia educativa pel professor, ser\u00e0 renovable anualment i podran utilitzar-la tots els alumnes del curs. \u00c9s una eina molt completa que ens permetr\u00e0 la integraci\u00f3 amb moltes de les funcionalitats que emprarem.","title":"5. Eines de desevolupament"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/5_eines_de_desenvolupament.html/#installar-phpstorm","text":"Per a instal\u00b7lar l'IDE PHPStorm seguirem els seg\u00fcents passos: Executarem sudo snap install phpstorm --classic Ens demanar\u00e0 si volem importar dades d'una instal\u00b7laci\u00f3 anterior, al que contestarem, \u00f2bviament, que no. Ens demanar\u00e0 que acceptem la pol\u00edtica de privadesa. En executar l'aplicaci\u00f3 per primera vegada ens demanar\u00e0 les dades de llic\u00e8ncia. Cada alumne s'haur\u00e0 de registrar utilitzant l'enlla\u00e7 que us passar\u00e0 el professor en classe. en pr\u00e9mer l'enlla\u00e7 ens redirigir\u00e0 a la p\u00e0gina web de jetbrains perqu\u00e8 ens registrem. Una vegada registrats, podrem accedir a l'aplicaci\u00f3 amb el nostre compte o amb el codi d'activaci\u00f3 que ens proporcionen. Finalment, indicarem la configuraci\u00f3 inicial.","title":"Instal\u00b7lar PHPStorm"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/5_eines_de_desenvolupament.html/#integrant-lexecutable-de-php","text":"PHPStorm disposa d'ajuda intel\u00b7ligent (IntelliJ IDEA). Perqu\u00e8 aquesta ajuda es corresponga amb la versi\u00f3 de php que tenim en el nostre XAMPP haurem de registrar l'executable de PHP de XAMPP en el nostre PHPStorm. Per a a\u00e7\u00f2 seguirem els seg\u00fcents passos: En la pantalla d'inici anem a Configure \u2013 Settings . En la llista de categories de l'esquerra anem a Language & Frameworks - PHP . Necessitem indicar quin \u00e9s el nostre int\u00e8rpret. ja que la llista est\u00e0 buida anem a configurar un de la seg\u00fcent forma: Fem clic en el bot\u00f3 ... de la llista d'int\u00e8rprets Premem el bot\u00f3 + de la cantonada superior esquerra per a afegir-ne un. Li posem el nom PHP de XAMPP. Indiquem instal\u00b7lat on nostre est\u00e0 XAMPP: /opt/lampp/bin/php Immediatament ens indicar\u00e0 la versi\u00f3 de l'int\u00e8rpret que tenim instal\u00b7lat Premem OK i seleccionem el nou interprete en la llista d'int\u00e8rprets. Finalment, seleccionem en l'opci\u00f3 PHP language level aquell que es corresponga amb l'int\u00e8rpret que acabem de configurar. Ara el nostre PHPStorm far\u00e0 \u00fas del PHP de XAMPP i utilitzar\u00e0 la versi\u00f3 de PHP que tenim instal\u00b7lada quan ens oferisca les ajudes. Primer projecte amb PHPStorm Per a comen\u00e7ar a treballar amb PHPStorm anem a crear el nostre primer projecte PHP buit. Tingueu en compte que el projecte heu de crear-ho en el directori /opt/lampp/htdocs i que necessitem tenir permisos d'escriptura en aquest directori. Compte! Pot ser que ho h\u00e0gem instal\u00b7lat com root , mentre que quan executem PHPStorm ho fem amb l'usuari dwes , per tant, l'usuari dwes necessita poder escriure en aquest directori. Per a assegurar-nos que tenim permisos, anirem amb una finestra de terminal al directori /opt/lampp i executarem la seg\u00fcent ordre: ls \u2013la htdocs Aquesta ordre ens dir\u00e0 qui \u00e9s el propietari de la carpeta i quins permisos t\u00e9. En el cas que el propietari siga root executarem la seguent ordre: sudo chown -hR dwes htdocs/ A\u00e7\u00f2 canviar\u00e0 el propietari a l'usuari dwes , amb el que tindrem perm\u00eds d'escriptura en aquest directori des de PHPStorm. Treballarem tenint els projectes en la mateixa carpeta. Pr\u00e0ctica 2. Instal\u00b7laci\u00f3 de PHPStorm Seguint les instruccions anteriors instal\u00b7la i configura PHP Storm.","title":"Integrant l'executable de PHP"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/5_eines_de_desenvolupament.html/#creacio-de-projectes-i-comprovacio-de-la-installacio-de-php","text":"Seguirem els passos que s'indiquen a continuaci\u00f3: Arrancar XAMPP Iniciar el m\u00f2dul Apache Executar PHPStorm Crear un projecte buit amb Create New > Project PHP Empty Project Posar al projecte el nom practica1 i situar-lo en el directori /opt/lampp/htdocs . Amb a\u00e7\u00f2 es crea un directori de nom practica1 dintre de /opt/lampp/htdocs . En la finestra de l'esquerra (explorador de projectes) apareix el projecte creat. Dins d'ell crearem un nou fitxer PHP prement bot\u00f3 dret sobre el nom i seleccionant New > PHP File . Li posem de nom index.php . En el fitxer creat introdu\u00efm les seg\u00fcents l\u00ednies de codi: <! doctype html > < html lang = \"es\" > < head > < meta charset = \"utf-8\" > < title > Desenvolupament web en entorn servidor </ title > < meta name = \"description\" content = \"PHP, PHPStorm\" > < meta name = \"author\" content = \"Homer Simpson\" > </ head > < body > <? php phpinfo (); ?> </body> </html> Canviem l'autor del document al nostre nom. Obrim el navegador i teclegem en la barra d'adreces la url: http://localhost/practica1 Apareixer\u00e0 una p\u00e0gina similar a la de la seg\u00fcent imatge: Pr\u00e0ctica 3: Prova d'Apache i PHP L'objectiu d'aquesta pr\u00e0ctica \u00e9s aprendre el maneig b\u00e0sic de l'entorn de desenvolupament PHPStorm creant una primera p\u00e0gina PHP que alhora servir\u00e0 per a comprovar la correcta instal\u00b7laci\u00f3 de XAMPP. Seguint les instruccions anterior crea projecte i prova'l.","title":"Creaci\u00f3 de projectes i comprovaci\u00f3 de la instal\u00b7laci\u00f3 de PHP"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/6_eines_per_a_depuraci_de_codi/","text":"6. Eines per a la depuraci\u00f3 de codi En els entorns de desevolupament \u00e9s necessari disposar de ferramentes que ens permenten depurar les nostres aplicacions. Ja siga per arreglar errors com per millorar l'execuci\u00f3 del codi. Els entorns de desevolupament d'aplicacions d'escriptori solen disposar dels seus propis sistemes de depuraci\u00f3, en el cas dels llenguatges d'entorn servidor alguns ecosistemes com el de .Net de Microsoft l'inclouen. Per a PHP hi ha diverses ferramentes com XDebug o DBG. Instal\u00b7laci\u00f3 d'XDEBUG 3.0 XDebug 3.0 Recentment s'ha publicat XDebug 3.0, versi\u00f3 que cobreix aquest document. Si busqueu informaci\u00f3, tingau en compte en quina versi\u00f3 treballeu. A continuaci\u00f3, explicarem com instal\u00b7lar el m\u00f2dul XDebug 3 en un entorn basat en XAMPP. Abans de res comprovarem que no el tenim instal\u00b7lat, per a aix\u00f2 seguirem els seg\u00fcents passos: Obrim la p\u00e0gina de benvinguda de XAMPP escrivint al navegador la URL http://localhost . A la part superior de la p\u00e0gina tenim una s\u00e8rie d'enlla\u00e7os, entre els que es troba un que diu phpinfo . Feu clic en aquest enlla\u00e7. Se'ns mostrar\u00e0 la p\u00e0gina de configuraci\u00f3 del nostre m\u00f2dul php. Anem a seleccionar tots els continguts d'aquesta p\u00e0gina i els anem a copiar. Obrirem al navegador la seg\u00fcent URL: http://xdebug.org/wizard.php . En aquesta p\u00e0gina podrem comprovar quins m\u00f2duls tenim instal\u00b7lats en nostre m\u00f2dul PHP. Per a aix\u00f2, enganxarem els continguts que hem copiat pr\u00e8viament a la caixa de text que apareix i premerem Analyse mi phpinfo () output. Ens apareixeran un resultats semblants a aquests: Com es pot observar, l'extensi\u00f3 XDebug no est\u00e0 instal\u00b7lada. Una altra informaci\u00f3 important que ens d\u00f3na \u00e9s que el nostre fitxer de configuraci\u00f3 del PHP el podem trobar en /opt/lampp/etc/php.ini i les extensions les tenim en /opt/lampp/lib/php/extensions/no-debug-non-zts-20180731 \u00c9s important que recordem aquestes dades. Per instal\u00b7lar l'extensi\u00f3 XDebug seguirem les instruccions que ens indica la p\u00e0gina anterior per\u00f2 compte perqu\u00e8 cal fer algunes modificacions: Important Els car\u00e0cters # representen valors que depenen de cada instal\u00b7laci\u00f3, aix\u00ed que cal tindre-ho en compte en executar-ho. Descarregueu la darrera versi\u00f3 d'Xdebug Instal\u00b7leu els requisits previs per a la compilaci\u00f3 d'extensions PHP.\\ Instal\u00b7leu-lo amb el sistema Ubuntu amb: apt-get install php-dev autoconf automake Desempaqueteu el fitxer descarregat amb tar -xvzf xdebug-#.#.#.tgz Executar: cd xdebug-#.#.# Executar: /opt/lampp/bin/phpize (hem canviat la ruta perqu\u00e8 execute el phpize de XAMPP). Com a part de la seva eixida hauria de mostrar: Configuring for: ... Zend Module Api No: ######## Zend Extension Api No: ######### Si no \u00e9s aix\u00ed, est\u00e0s utilitzant phpize incorrecta. Seguiu aquesta entrada de FAQ i passeu al pas seg\u00fcent. Executar: ./configure --with-php-config=/opt/lampp/bin/php-config (hem afegit la ruta del php-config de XAMPP). Compilem les fonts: make Executar: sudo cp modules/xdebug.so /opt/lampp/lib/php/extensions/no-debug-non-zts-######## Edita /opt/lampp/etc/php.ini i afegeix les seg\u00fcents l\u00ednies al final [xdebug] zend_extension = /opt/lampp/lib/php/extensions/no-debug-non-zts-########/xdebug.so xdebug.remote_enable=1 xdebug.remote_host=\"localhost\" xdebug.remote_port=9000 Reinicieu el servidor web Repeteix els passos del 1 al 5 inicials per comprovar que XDebug s\u00ed est\u00e0 instal\u00b7lat. Despr\u00e9s caldr\u00e0 configurar PHPStorm per a connectar-lo a XDebug Integraci\u00f3 amb PHPStorm i instal\u00b7lar una extensi\u00f3 de Firefox Xdebug Helper o Chrome. Pr\u00e0ctica 4. Instal\u00b7laci\u00f2 d'XDebug Seguint les instruccions anteriors instal\u00b7la i configura XDEBUG i connecta'l a PHP Storm.","title":"6. Eines per a la depuraci\u00f3 de codi"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/6_eines_per_a_depuraci_de_codi/#6-eines-per-a-la-depuracio-de-codi","text":"En els entorns de desevolupament \u00e9s necessari disposar de ferramentes que ens permenten depurar les nostres aplicacions. Ja siga per arreglar errors com per millorar l'execuci\u00f3 del codi. Els entorns de desevolupament d'aplicacions d'escriptori solen disposar dels seus propis sistemes de depuraci\u00f3, en el cas dels llenguatges d'entorn servidor alguns ecosistemes com el de .Net de Microsoft l'inclouen. Per a PHP hi ha diverses ferramentes com XDebug o DBG.","title":"6. Eines per a la depuraci\u00f3 de codi"},{"location":"01.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3%20web/6_eines_per_a_depuraci_de_codi/#installacio-dxdebug-30","text":"XDebug 3.0 Recentment s'ha publicat XDebug 3.0, versi\u00f3 que cobreix aquest document. Si busqueu informaci\u00f3, tingau en compte en quina versi\u00f3 treballeu. A continuaci\u00f3, explicarem com instal\u00b7lar el m\u00f2dul XDebug 3 en un entorn basat en XAMPP. Abans de res comprovarem que no el tenim instal\u00b7lat, per a aix\u00f2 seguirem els seg\u00fcents passos: Obrim la p\u00e0gina de benvinguda de XAMPP escrivint al navegador la URL http://localhost . A la part superior de la p\u00e0gina tenim una s\u00e8rie d'enlla\u00e7os, entre els que es troba un que diu phpinfo . Feu clic en aquest enlla\u00e7. Se'ns mostrar\u00e0 la p\u00e0gina de configuraci\u00f3 del nostre m\u00f2dul php. Anem a seleccionar tots els continguts d'aquesta p\u00e0gina i els anem a copiar. Obrirem al navegador la seg\u00fcent URL: http://xdebug.org/wizard.php . En aquesta p\u00e0gina podrem comprovar quins m\u00f2duls tenim instal\u00b7lats en nostre m\u00f2dul PHP. Per a aix\u00f2, enganxarem els continguts que hem copiat pr\u00e8viament a la caixa de text que apareix i premerem Analyse mi phpinfo () output. Ens apareixeran un resultats semblants a aquests: Com es pot observar, l'extensi\u00f3 XDebug no est\u00e0 instal\u00b7lada. Una altra informaci\u00f3 important que ens d\u00f3na \u00e9s que el nostre fitxer de configuraci\u00f3 del PHP el podem trobar en /opt/lampp/etc/php.ini i les extensions les tenim en /opt/lampp/lib/php/extensions/no-debug-non-zts-20180731 \u00c9s important que recordem aquestes dades. Per instal\u00b7lar l'extensi\u00f3 XDebug seguirem les instruccions que ens indica la p\u00e0gina anterior per\u00f2 compte perqu\u00e8 cal fer algunes modificacions: Important Els car\u00e0cters # representen valors que depenen de cada instal\u00b7laci\u00f3, aix\u00ed que cal tindre-ho en compte en executar-ho. Descarregueu la darrera versi\u00f3 d'Xdebug Instal\u00b7leu els requisits previs per a la compilaci\u00f3 d'extensions PHP.\\ Instal\u00b7leu-lo amb el sistema Ubuntu amb: apt-get install php-dev autoconf automake Desempaqueteu el fitxer descarregat amb tar -xvzf xdebug-#.#.#.tgz Executar: cd xdebug-#.#.# Executar: /opt/lampp/bin/phpize (hem canviat la ruta perqu\u00e8 execute el phpize de XAMPP). Com a part de la seva eixida hauria de mostrar: Configuring for: ... Zend Module Api No: ######## Zend Extension Api No: ######### Si no \u00e9s aix\u00ed, est\u00e0s utilitzant phpize incorrecta. Seguiu aquesta entrada de FAQ i passeu al pas seg\u00fcent. Executar: ./configure --with-php-config=/opt/lampp/bin/php-config (hem afegit la ruta del php-config de XAMPP). Compilem les fonts: make Executar: sudo cp modules/xdebug.so /opt/lampp/lib/php/extensions/no-debug-non-zts-######## Edita /opt/lampp/etc/php.ini i afegeix les seg\u00fcents l\u00ednies al final [xdebug] zend_extension = /opt/lampp/lib/php/extensions/no-debug-non-zts-########/xdebug.so xdebug.remote_enable=1 xdebug.remote_host=\"localhost\" xdebug.remote_port=9000 Reinicieu el servidor web Repeteix els passos del 1 al 5 inicials per comprovar que XDebug s\u00ed est\u00e0 instal\u00b7lat. Despr\u00e9s caldr\u00e0 configurar PHPStorm per a connectar-lo a XDebug Integraci\u00f3 amb PHPStorm i instal\u00b7lar una extensi\u00f3 de Firefox Xdebug Helper o Chrome. Pr\u00e0ctica 4. Instal\u00b7laci\u00f2 d'XDebug Seguint les instruccions anteriors instal\u00b7la i configura XDEBUG i connecta'l a PHP Storm.","title":"Instal\u00b7laci\u00f3 d'XDEBUG 3.0"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/0_index/","text":"0. Introducci\u00f3 Continguts Programaci\u00f3 web amb PHP Funcionament i estructura b\u00e0sica Variables i tipus de dades Constants Expressions i operadors Estructures de control Maneig de cadenes de text i dates Maneig de cadenes de text Maneig de dates Maneig d'arrays Introducci\u00f3 Arrays associatius Arrays multidimensionals Funcions Predefinides De l'usuari Noves caracter\u00edstiques de PHP 7 Type Hinting Nous operadors PHP 7 Operador nau espacial Operador de fusi\u00f3 de null Funcions an\u00f2nimes ( closures ) Processament de formularis M\u00e8todes GET i POST Definici\u00f3 de formularis Recuperaci\u00f3 d'informaci\u00f3 amb GET Recuperaci\u00f3 d'informaci\u00f3 amb POST Enviament d'arxius Validaci\u00f3 de formularis Pujada de fitxers","title":"0. Introducci\u00f3"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/0_index/#0-introduccio","text":"","title":"0. Introducci\u00f3"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/0_index/#continguts","text":"Programaci\u00f3 web amb PHP Funcionament i estructura b\u00e0sica Variables i tipus de dades Constants Expressions i operadors Estructures de control Maneig de cadenes de text i dates Maneig de cadenes de text Maneig de dates Maneig d'arrays Introducci\u00f3 Arrays associatius Arrays multidimensionals Funcions Predefinides De l'usuari Noves caracter\u00edstiques de PHP 7 Type Hinting Nous operadors PHP 7 Operador nau espacial Operador de fusi\u00f3 de null Funcions an\u00f2nimes ( closures ) Processament de formularis M\u00e8todes GET i POST Definici\u00f3 de formularis Recuperaci\u00f3 d'informaci\u00f3 amb GET Recuperaci\u00f3 d'informaci\u00f3 amb POST Enviament d'arxius Validaci\u00f3 de formularis Pujada de fitxers","title":"Continguts"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/","text":"1. Programaci\u00f3 web amb PHP Funcionament i estructura b\u00e0sica El nostre primer codi PHP El codi php sempre va entre els simbolos <?php y ?> . Les instruccions php acaben sempre amb ; Per a generar codi html des de php podem utilitzar el m\u00e8tode echo passant-li el text del codi que volem generar. El codi pot anar entre les etiquetes de \\ < html > < head ></ head > < body > < h1 ><? php echo 'Hola m\u00f3n' ?> </h1> <body> Tamb\u00e9 podem utilitzar l'etiqueta <?= fa el echo al mateix temps. < html > < head ></ head > < body > < h1 ><?= Hola m\u00f3n ?> </h1> <body> Comentaris De bloc entre / i / De linea comen\u00e7ant per // o per # Codi incrustat El documents que contenen codi php s'han d'anomenar amb l'extensi\u00f3 .php Variables i tipus de dades Una de les caracter\u00edstiques de php \u00e9s que \u00e9s un llenguatge no fortament tipat . De fet no cal declarar la variable ni indicar el tipus de dades si la declare. Encara que si volem codi de qualitat ho hauriem de fer. Declaraci\u00f3 Els noms de les variables sempre comencen per $ Despr\u00e9s del $ els noms de les variables han d'anar seguits per una lletra o el car\u00e0cter _ i poden contenir tamb\u00e9 n\u00fameros. No \u00e9s necessari declarar una variable ni especificar-li un tipus (sencer, cadena,...) concret. Per crear una variable que continga el text a generar i mostrar-la: < html > < head ></ head > < body > < h1 > <? php $salutacio = 'Hola m\u00f3n' ; echo $salutacio ; ?> </h1> <body> Tipus de les variables El tipus de la variable es decideix en funci\u00f3 del context en qu\u00e8 s'utilitze. En assignar-li el valor 7, la variable \u00e9s de tipus \u201csencer\u201d $la_meua_variable = 7 ; // ara \u00e9s un n\u00famero $la_meua_variable = \"set\" ; // ara \u00e9s cadena Si li canviem el contingut passa a ser de tipus \u201ccadena\u201d Variable no inicialitzades Si s'intenta utilitzar una variable abans d'assignar-li un valor, es genera un error de tipus E_NOTICE per\u00f2 no s'interromp l'execusi\u00f3 de l'script. L'eixida mostrar\u00e0 un av\u00eds cada volta que s'intente. Tipus de dades en PHP boole\u00e0 ( boolean ). Els seus possibles valors s\u00f3n true i false. A m\u00e9s, qualsevol nombre enter es considera com true, excepte el 0 que \u00e9s false. sencer ( integer ). Qualsevol nombre sense decimals. Es poden representar en format decimal, octal (comen\u00e7ant per un 0), o hexadecimal (comen\u00e7ant per 0x). real ( float ). Qualsevol nombre amb decimals. Es poden representar tamb\u00e9 en notaci\u00f3 cient\u00edfica. cadena ( string ). Conjunts de car\u00e0cters delimitats per cometes simples o dobles. vector ( array ). Conjunt de variables del mateix tipus ordenades. Objecte ( object ). Utilitzat per les inst\u00e0ncies de classes. null . \u00c9s un tipus de dades especial, que s'usa per a indicar que la variable no t\u00e9 valor. ( http://php.net/manual/es/language.types.null.php ) \u00c0mbit de les variables L'\u00e0mbit d'una variable \u00e9s la part del codi en que \u00e9s visible. Una variable declarada en un fitxer de PHP est\u00e0 disponible en eixe fitxer i en els que l'incloguen. Les funcions definixen un \u00e0mbit local, separat de la resta del codi. Es poden definir variables globlals amb la paraula reservada global , encara que no s\u00f3n aconsellables. Variables predefinides S\u00f3n variables internes predefinides de PHP que poden usar-se des de qualsevol \u00e0mbit. Tomem forma d'arrays associatius que contenen un conjunt de valors. $_SERVER . Cont\u00e9 informaci\u00f3 sobre l'entorn del servidor web i d'execuci\u00f3. $_GET, $_POST i $_COOKIE contenen les variables que s'han passat al script actual utilitzant, respectivament, els m\u00e8todes GET (par\u00e0metres en la URL), HTTP POST i Cookies HTTP $_REQUEST junta en un solament el contingut dels tres *arrays anteriors, $_GET, $_POST i $_COOKIE. $_ENV cont\u00e9 les variables que es puguen haver passat a PHP des de l'entorn en qu\u00e8 s'executa. $_FILES cont\u00e9 els fitxers que es puguen haver pujat al servidor utilitzant el m\u00e8tode POST. $_SESSION cont\u00e9 les variables de sessi\u00f3 disponibles per al gui\u00f3 actual. http://es.php.net/manual/es/language.variables.superglobals.php Constants Per a definir variables utilitze define() , que reb el nom de la constant i el valor que li volem donar define ( \"LIMITE\" , 1000 ); \u00c9s habitual utilitzar identificadors en majuscules per a les constants. Expressions i operadors Operadors Operadors Aritm\u00e8tics Operadors de Cadena El . concatena dos cadenes Operadors d'asignaci\u00f3 El = s'utilitza per asignar un valor a una variable. Tamb\u00e9 es poden combinar amb els operadors aritm\u00e8tics com l'exemple $a += $b equival a $a = $a + $b $a -= $b equival a $a = $a - $b Operadors de comparaci\u00f3 Operadors l\u00f2gics Operador ternari Funciona com un condicional condici\u00f3 ? valor si true : valor si false i que es pot simplificar ** condici\u00f3 https://www.php.net/manual/es/language.operators.php Farem alguns exercicis : Exercisi 2.0 Conceptes b\u00e0sics Estructures de control Estructures de control de flux Les instruccions de control de flux en PHP funcionen exactament igual que en altres llenguatges de programaci\u00f3. Les m\u00e9s habituals s\u00f3n: Condicionals: if, if else, switch Bucles: while, do while, for seguint les estructures: if ( condici\u00f3 ) { // instruccions } else { // instruccions } switch ( $variable ) { case valor : //instruccio1 break ; case valor : //instruccio1 break ; default : //instruccio1 } while ( condici\u00f3 ) { //instruccions } do { //instruccions } while ( condici\u00f3 ); for ( $i = 1 ; $i < 10 ; $i ++ ){ //instruccions } http://php.net/manual/es/language.control-structures.php Farem alguns exercicis : Exercisi 2.1 Cadenes \u00c9s el moment de fer alguns exercicis : Exercisi 2.2 Arrays Sent\u00e8ncies per a incloure Fitxers Les sent\u00e8ncies include() i include_once() i require() i require_once() inclouen i avaluen l'artxiu especificat. include_once() i require_once() verifica que l'arxiu no haja sigut incl\u00f2s abans i \u00e9s preferible a include. Cal ser cur\u00f2s amb el path de l'arxiu a incloure. La difer\u00e8ncia entre require i include \u00e9s el tractament de l'error quan el fitxer no existeix. fruites . php <? php $color = 'verde' ; $fruta = 'manzana' ; include ( 'fruite.view.php' ) ?> fruites.view.php < html > < head > < title > Fruites </ title > </ head > < body > < h3 > <?= \"Una $fruta $color\" ?> </ h3 > </ body > </ html > Expansi\u00f3 de variables Podem introduir una variable dins d'un text sempre que usem les cometes dobles per a delimitar el text. A\u00e7\u00f2 far\u00e0 que el contingut de la variable s'expandisca i es concatene amb el text existent en la cadena. echo \"<p>M\u00f2dul: $module </p>\" A voltes, \u00e9s necessari envoltar-la entre claus echo \"<p>M\u00f2dul: { $module } DAW</p>\" Si no pos\u00e0rem les claus l'int\u00e8rpret cercaria una variable que es cride $moduleDAW","title":"1. Programaci\u00f3 web amb PHP"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#1-programacio-web-amb-php","text":"","title":"1. Programaci\u00f3 web amb PHP"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#funcionament-i-estructura-basica","text":"","title":"Funcionament i estructura b\u00e0sica"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#el-nostre-primer-codi-php","text":"El codi php sempre va entre els simbolos <?php y ?> . Les instruccions php acaben sempre amb ; Per a generar codi html des de php podem utilitzar el m\u00e8tode echo passant-li el text del codi que volem generar. El codi pot anar entre les etiquetes de \\ < html > < head ></ head > < body > < h1 ><? php echo 'Hola m\u00f3n' ?> </h1> <body> Tamb\u00e9 podem utilitzar l'etiqueta <?= fa el echo al mateix temps. < html > < head ></ head > < body > < h1 ><?= Hola m\u00f3n ?> </h1> <body>","title":"El nostre primer codi PHP"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#comentaris","text":"De bloc entre / i / De linea comen\u00e7ant per // o per #","title":"Comentaris"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#codi-incrustat","text":"El documents que contenen codi php s'han d'anomenar amb l'extensi\u00f3 .php","title":"Codi incrustat"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#variables-i-tipus-de-dades","text":"Una de les caracter\u00edstiques de php \u00e9s que \u00e9s un llenguatge no fortament tipat . De fet no cal declarar la variable ni indicar el tipus de dades si la declare. Encara que si volem codi de qualitat ho hauriem de fer.","title":"Variables i tipus de dades"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#declaracio","text":"Els noms de les variables sempre comencen per $ Despr\u00e9s del $ els noms de les variables han d'anar seguits per una lletra o el car\u00e0cter _ i poden contenir tamb\u00e9 n\u00fameros. No \u00e9s necessari declarar una variable ni especificar-li un tipus (sencer, cadena,...) concret. Per crear una variable que continga el text a generar i mostrar-la: < html > < head ></ head > < body > < h1 > <? php $salutacio = 'Hola m\u00f3n' ; echo $salutacio ; ?> </h1> <body>","title":"Declaraci\u00f3"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#tipus-de-les-variables","text":"El tipus de la variable es decideix en funci\u00f3 del context en qu\u00e8 s'utilitze. En assignar-li el valor 7, la variable \u00e9s de tipus \u201csencer\u201d $la_meua_variable = 7 ; // ara \u00e9s un n\u00famero $la_meua_variable = \"set\" ; // ara \u00e9s cadena Si li canviem el contingut passa a ser de tipus \u201ccadena\u201d","title":"Tipus de les variables"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#variable-no-inicialitzades","text":"Si s'intenta utilitzar una variable abans d'assignar-li un valor, es genera un error de tipus E_NOTICE per\u00f2 no s'interromp l'execusi\u00f3 de l'script. L'eixida mostrar\u00e0 un av\u00eds cada volta que s'intente.","title":"Variable no inicialitzades"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#tipus-de-dades-en-php","text":"boole\u00e0 ( boolean ). Els seus possibles valors s\u00f3n true i false. A m\u00e9s, qualsevol nombre enter es considera com true, excepte el 0 que \u00e9s false. sencer ( integer ). Qualsevol nombre sense decimals. Es poden representar en format decimal, octal (comen\u00e7ant per un 0), o hexadecimal (comen\u00e7ant per 0x). real ( float ). Qualsevol nombre amb decimals. Es poden representar tamb\u00e9 en notaci\u00f3 cient\u00edfica. cadena ( string ). Conjunts de car\u00e0cters delimitats per cometes simples o dobles. vector ( array ). Conjunt de variables del mateix tipus ordenades. Objecte ( object ). Utilitzat per les inst\u00e0ncies de classes. null . \u00c9s un tipus de dades especial, que s'usa per a indicar que la variable no t\u00e9 valor. ( http://php.net/manual/es/language.types.null.php )","title":"Tipus de dades en PHP"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#ambit-de-les-variables","text":"L'\u00e0mbit d'una variable \u00e9s la part del codi en que \u00e9s visible. Una variable declarada en un fitxer de PHP est\u00e0 disponible en eixe fitxer i en els que l'incloguen. Les funcions definixen un \u00e0mbit local, separat de la resta del codi. Es poden definir variables globlals amb la paraula reservada global , encara que no s\u00f3n aconsellables.","title":"\u00c0mbit de les variables"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#variables-predefinides","text":"S\u00f3n variables internes predefinides de PHP que poden usar-se des de qualsevol \u00e0mbit. Tomem forma d'arrays associatius que contenen un conjunt de valors. $_SERVER . Cont\u00e9 informaci\u00f3 sobre l'entorn del servidor web i d'execuci\u00f3. $_GET, $_POST i $_COOKIE contenen les variables que s'han passat al script actual utilitzant, respectivament, els m\u00e8todes GET (par\u00e0metres en la URL), HTTP POST i Cookies HTTP $_REQUEST junta en un solament el contingut dels tres *arrays anteriors, $_GET, $_POST i $_COOKIE. $_ENV cont\u00e9 les variables que es puguen haver passat a PHP des de l'entorn en qu\u00e8 s'executa. $_FILES cont\u00e9 els fitxers que es puguen haver pujat al servidor utilitzant el m\u00e8tode POST. $_SESSION cont\u00e9 les variables de sessi\u00f3 disponibles per al gui\u00f3 actual. http://es.php.net/manual/es/language.variables.superglobals.php","title":"Variables predefinides"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#constants","text":"Per a definir variables utilitze define() , que reb el nom de la constant i el valor que li volem donar define ( \"LIMITE\" , 1000 ); \u00c9s habitual utilitzar identificadors en majuscules per a les constants.","title":"Constants"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#expressions-i-operadors","text":"","title":"Expressions i operadors"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#operadors","text":"","title":"Operadors"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#operadors-aritmetics","text":"","title":"Operadors Aritm\u00e8tics"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#operadors-de-cadena","text":"El . concatena dos cadenes","title":"Operadors de Cadena"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#operadors-dasignacio","text":"El = s'utilitza per asignar un valor a una variable. Tamb\u00e9 es poden combinar amb els operadors aritm\u00e8tics com l'exemple $a += $b equival a $a = $a + $b $a -= $b equival a $a = $a - $b","title":"Operadors d'asignaci\u00f3"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#operadors-de-comparacio","text":"","title":"Operadors de comparaci\u00f3"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#operadors-logics","text":"","title":"Operadors l\u00f2gics"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#operador-ternari","text":"Funciona com un condicional condici\u00f3 ? valor si true : valor si false i que es pot simplificar ** condici\u00f3 https://www.php.net/manual/es/language.operators.php Farem alguns exercicis : Exercisi 2.0 Conceptes b\u00e0sics","title":"Operador ternari"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#estructures-de-control","text":"","title":"Estructures de control"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#estructures-de-control-de-flux","text":"Les instruccions de control de flux en PHP funcionen exactament igual que en altres llenguatges de programaci\u00f3. Les m\u00e9s habituals s\u00f3n: Condicionals: if, if else, switch Bucles: while, do while, for seguint les estructures: if ( condici\u00f3 ) { // instruccions } else { // instruccions } switch ( $variable ) { case valor : //instruccio1 break ; case valor : //instruccio1 break ; default : //instruccio1 } while ( condici\u00f3 ) { //instruccions } do { //instruccions } while ( condici\u00f3 ); for ( $i = 1 ; $i < 10 ; $i ++ ){ //instruccions } http://php.net/manual/es/language.control-structures.php Farem alguns exercicis : Exercisi 2.1 Cadenes \u00c9s el moment de fer alguns exercicis : Exercisi 2.2 Arrays","title":"Estructures de control de flux"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#sentencies-per-a-incloure-fitxers","text":"Les sent\u00e8ncies include() i include_once() i require() i require_once() inclouen i avaluen l'artxiu especificat. include_once() i require_once() verifica que l'arxiu no haja sigut incl\u00f2s abans i \u00e9s preferible a include. Cal ser cur\u00f2s amb el path de l'arxiu a incloure. La difer\u00e8ncia entre require i include \u00e9s el tractament de l'error quan el fitxer no existeix. fruites . php <? php $color = 'verde' ; $fruta = 'manzana' ; include ( 'fruite.view.php' ) ?> fruites.view.php < html > < head > < title > Fruites </ title > </ head > < body > < h3 > <?= \"Una $fruta $color\" ?> </ h3 > </ body > </ html >","title":"Sent\u00e8ncies per a incloure Fitxers"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/1_programaci_web_amb_php/#expansio-de-variables","text":"Podem introduir una variable dins d'un text sempre que usem les cometes dobles per a delimitar el text. A\u00e7\u00f2 far\u00e0 que el contingut de la variable s'expandisca i es concatene amb el text existent en la cadena. echo \"<p>M\u00f2dul: $module </p>\" A voltes, \u00e9s necessari envoltar-la entre claus echo \"<p>M\u00f2dul: { $module } DAW</p>\" Si no pos\u00e0rem les claus l'int\u00e8rpret cercaria una variable que es cride $moduleDAW","title":"Expansi\u00f3 de variables"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/2_maneig_de_cadenes_de_text_i_dates/","text":"2. Maneig de cades de text i dates Maneig de cadenes de text Cadenes de text Podem utilitzar tant cometes simples com a cometes dobles. Per a concatenar cadenes utilitzarem l'operador punt (.) $fullName = $name . ' ' . $surnames ; [ Funcions de cadena ]( https :// www . php . net / manual / es / ref . strings . php ) ### Activitat 1 { :. nocount . no_toc } Crea una p\u00e0gina anomenada `cadenes.php` , copia el contingut de la p\u00e0gina `index.php` , activa la directiva de tipus estricta ( `declare( strict_types = 1 );` ) i mostra el seg\u00fcent : 1. Elimina els espais del principi i el final del nom si els hi haguera ( _trim_ ) . 2. Elimina la lletra a del principi i el final del nom si els hi haguera ( _trim_ ) . 3. Mostra la variable nom en maj\u00fascules , min\u00fascules i amb la primera lletra en maj\u00fascula i les altres en min\u00fascules ( _strtoupper_ , _strtolower_ , _ucfirst_ ) . 4. Mostra el codi ascii de la primera lletra del nom ( _ord_ ) . 5. Mostra la longitud del nom ( _strlen_ ) . 6. Mostra el nombre de vegades que apareix la lletra a ( maj\u00fascula o min\u00fascula , _substr_count_ ) . 7. Mostra la posici\u00f3 de la primera `a` existent en el nom , siga maj\u00fascula o min\u00fascula ( _strpos_ ) . Si no hi ha cap mostrar\u00e0 - 1. 8. El mateix , per\u00f2 amb l '\u00faltima a. 9. Mostra el nom substituint la lletr o pel n\u00famero zero, siga maj\u00fascula o min\u00fascula (_str_replace_). 10. Indica si el nom comen\u00e7a per `al` o no. ### Activitat 2 En el mateix document `cadenes.php` i a partir d' una variable que continga una url : `` ` php $url = 'http://username:password@hostname:9090/path?arg=value#anchor' ; Utilitza la funci\u00f3 parse_url per a extraure de la url les seg\u00fcents parts: 1. El protocol utilitzat (en l'exemple http). 2. El nom d'usuari (en l'exemple username). 3. El path de la url (en l'exemple /path). 4. El querystring de la url (en l'exemple arg=value). Maneig de dates Funci\u00f3 time() En PHP les dates s'emmagatzemen com a n\u00fameros enters. La funci\u00f3 time() retorna el nombre de segons transcorreguts des de l'1 de gener de 1970 (instant conegut com a \u00e8poca Unix). A aquesta forma d'expressar data i hora se li denomina timestamp . Funci\u00f3 date() date ( string $format [, int $timestamp = time () ] ) : string La funci\u00f3 date retorna una cadena formatada segons els codi de format. Si no li passem la variable timestamp ens retorna la cadena formatada per a la data i l'hora actual. Els codis de format m\u00e9s habituals per a la funci\u00f3 date s\u00f3n: CODI DESCRIPCI\u00d3 a am o pm A AM o PM d Dia del mes amb zeros D Abreviatura del dia de la setmana (en angl\u00e8s) F Nom del mes (en angl\u00e8s) h Hora en format 1-12 H Hora en format 0-23 i Minuts j Dia del mes sense zeros l Dia de la setmana m N\u00famero de mes (1-12) M Abreviatura del mes (en angl\u00e8s) s Segons y Any amb 2 d\u00edgits Y Any amb 4 d\u00edgits z Dia de l'any (1-365) La informaci\u00f3 completa la pots trobar en el manual oficial de PHP: date Suposant que hui \u00e9s 15 de setembre de 2019 i les 19 hores 20 minuts i 23 segons et mostrem alguns exemples: date ( \"d-m-Y\" ); // 15-09-2019 date ( \"H:i:s\" ); // 19:20:23 date ( \"Y\" ); // 2019 date ( \"YmdHis\" ); // 20190915192023 date ( \"d/m/y H:i a\" ); // 15/09/19 19:20 pm date ( \"d-m-Y H:i\" , time ()); // Moment actual Funci\u00f3 mktime(hora, min, seg, mes, dia, any) La funci\u00f3 mktime permet obtenir la marca de temps Unix ( timestamp ) d'una data. Per exemple: $data = mktime ( 0 , 0 , 0 , 1 , 1 , 2020 ); echo date ( 'd-m-Y' , $data ); // mostrar\u00e0 01-01-2020 M\u00e9s informaci\u00f3 en https://www.php.net/manual/es/function.mktime.php Un altra forma de crear dates \u00e9s mitjan\u00e7ant la funci\u00f3 strtotime() on podem indicar les dates mitjan\u00e7ant una cadena de text. Per exemple: // posarem la data en el format any-mes-dia per a evitar confusions. $date = strtotime ( \"2020-01-01\" ); Operar amb dates Com hem dit al principi les dates s'emmagatzem com a enters on cada unitat representa un segon. Aix\u00ed podem sumar i restar dates ( timestamp ) per a afegir, llevar o calcular difer\u00e8ncies entre ells. Per exemple, per poder determinar els dies que falten per a l'1 de gener de 2020 far\u00edem: $data = mktime ( 0 , 0 , 0 , 1 , 1 , 2020 ); // timestamp que representa l'1 de gener de 2020 $diferencia = $data - time (); // restem a l'1 de gener de 2020 el temps actual, // el resultat estar\u00e0 en segons. $diferenciaEnDies = ((( $diferencia / 60 ) / 60 ) / 24 ); /* dividim els segons entre 60 i obtenim els minuts, els dividim entre 60 i obtenim les hores, els dividim entre 24 i obtenim els dies */ Validar dates En la funci\u00f3 checkdate podem validar una data. checkdate ( int $month , int $day , int $year ) : bool La funci\u00f3 torna true si la data es v\u00e0lida, si no, torna false . Classe DateTime PHP disposa tamb\u00e9 de la classe DateTime per a representar les dates, la veurem m\u00e9s avant. Treballar amb dates {:.nocount .no_toc} Crea un fitxer anomenat dates.php i realitza les seg\u00fcents tasques: Mostra la data i hora actuals amb el format: dd/mm/yyyy hh:mm:ss Mostra el nom de la zona hor\u00e0ria que s'utilitza per defecte. Mostra la data de que ser\u00e0 d\u2019ac\u00ed 45 dies. Mostra el nombre de dies que han passat des de l'1 de gener. Mostra la data i hora actuals de Nova York. Mostra el dia de la setmana que era l'1 de gener d'enguany. En acabar penja el document a Aules.","title":"2. Maneig de cades de text i dates"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/2_maneig_de_cadenes_de_text_i_dates/#2-maneig-de-cades-de-text-i-dates","text":"","title":"2. Maneig de cades de text i dates"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/2_maneig_de_cadenes_de_text_i_dates/#maneig-de-cadenes-de-text","text":"","title":"Maneig de cadenes de text"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/2_maneig_de_cadenes_de_text_i_dates/#cadenes-de-text","text":"Podem utilitzar tant cometes simples com a cometes dobles. Per a concatenar cadenes utilitzarem l'operador punt (.) $fullName = $name . ' ' . $surnames ; [ Funcions de cadena ]( https :// www . php . net / manual / es / ref . strings . php ) ### Activitat 1 { :. nocount . no_toc } Crea una p\u00e0gina anomenada `cadenes.php` , copia el contingut de la p\u00e0gina `index.php` , activa la directiva de tipus estricta ( `declare( strict_types = 1 );` ) i mostra el seg\u00fcent : 1. Elimina els espais del principi i el final del nom si els hi haguera ( _trim_ ) . 2. Elimina la lletra a del principi i el final del nom si els hi haguera ( _trim_ ) . 3. Mostra la variable nom en maj\u00fascules , min\u00fascules i amb la primera lletra en maj\u00fascula i les altres en min\u00fascules ( _strtoupper_ , _strtolower_ , _ucfirst_ ) . 4. Mostra el codi ascii de la primera lletra del nom ( _ord_ ) . 5. Mostra la longitud del nom ( _strlen_ ) . 6. Mostra el nombre de vegades que apareix la lletra a ( maj\u00fascula o min\u00fascula , _substr_count_ ) . 7. Mostra la posici\u00f3 de la primera `a` existent en el nom , siga maj\u00fascula o min\u00fascula ( _strpos_ ) . Si no hi ha cap mostrar\u00e0 - 1. 8. El mateix , per\u00f2 amb l '\u00faltima a. 9. Mostra el nom substituint la lletr o pel n\u00famero zero, siga maj\u00fascula o min\u00fascula (_str_replace_). 10. Indica si el nom comen\u00e7a per `al` o no. ### Activitat 2 En el mateix document `cadenes.php` i a partir d' una variable que continga una url : `` ` php $url = 'http://username:password@hostname:9090/path?arg=value#anchor' ; Utilitza la funci\u00f3 parse_url per a extraure de la url les seg\u00fcents parts: 1. El protocol utilitzat (en l'exemple http). 2. El nom d'usuari (en l'exemple username). 3. El path de la url (en l'exemple /path). 4. El querystring de la url (en l'exemple arg=value).","title":"Cadenes de text"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/2_maneig_de_cadenes_de_text_i_dates/#maneig-de-dates","text":"","title":"Maneig de dates"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/2_maneig_de_cadenes_de_text_i_dates/#funcio-time","text":"En PHP les dates s'emmagatzemen com a n\u00fameros enters. La funci\u00f3 time() retorna el nombre de segons transcorreguts des de l'1 de gener de 1970 (instant conegut com a \u00e8poca Unix). A aquesta forma d'expressar data i hora se li denomina timestamp .","title":"Funci\u00f3 time()"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/2_maneig_de_cadenes_de_text_i_dates/#funcio-date","text":"date ( string $format [, int $timestamp = time () ] ) : string La funci\u00f3 date retorna una cadena formatada segons els codi de format. Si no li passem la variable timestamp ens retorna la cadena formatada per a la data i l'hora actual. Els codis de format m\u00e9s habituals per a la funci\u00f3 date s\u00f3n: CODI DESCRIPCI\u00d3 a am o pm A AM o PM d Dia del mes amb zeros D Abreviatura del dia de la setmana (en angl\u00e8s) F Nom del mes (en angl\u00e8s) h Hora en format 1-12 H Hora en format 0-23 i Minuts j Dia del mes sense zeros l Dia de la setmana m N\u00famero de mes (1-12) M Abreviatura del mes (en angl\u00e8s) s Segons y Any amb 2 d\u00edgits Y Any amb 4 d\u00edgits z Dia de l'any (1-365) La informaci\u00f3 completa la pots trobar en el manual oficial de PHP: date Suposant que hui \u00e9s 15 de setembre de 2019 i les 19 hores 20 minuts i 23 segons et mostrem alguns exemples: date ( \"d-m-Y\" ); // 15-09-2019 date ( \"H:i:s\" ); // 19:20:23 date ( \"Y\" ); // 2019 date ( \"YmdHis\" ); // 20190915192023 date ( \"d/m/y H:i a\" ); // 15/09/19 19:20 pm date ( \"d-m-Y H:i\" , time ()); // Moment actual","title":"Funci\u00f3 date()"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/2_maneig_de_cadenes_de_text_i_dates/#funcio-mktimehora-min-seg-mes-dia-any","text":"La funci\u00f3 mktime permet obtenir la marca de temps Unix ( timestamp ) d'una data. Per exemple: $data = mktime ( 0 , 0 , 0 , 1 , 1 , 2020 ); echo date ( 'd-m-Y' , $data ); // mostrar\u00e0 01-01-2020 M\u00e9s informaci\u00f3 en https://www.php.net/manual/es/function.mktime.php Un altra forma de crear dates \u00e9s mitjan\u00e7ant la funci\u00f3 strtotime() on podem indicar les dates mitjan\u00e7ant una cadena de text. Per exemple: // posarem la data en el format any-mes-dia per a evitar confusions. $date = strtotime ( \"2020-01-01\" );","title":"Funci\u00f3 mktime(hora, min, seg, mes, dia, any)"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/2_maneig_de_cadenes_de_text_i_dates/#operar-amb-dates","text":"Com hem dit al principi les dates s'emmagatzem com a enters on cada unitat representa un segon. Aix\u00ed podem sumar i restar dates ( timestamp ) per a afegir, llevar o calcular difer\u00e8ncies entre ells. Per exemple, per poder determinar els dies que falten per a l'1 de gener de 2020 far\u00edem: $data = mktime ( 0 , 0 , 0 , 1 , 1 , 2020 ); // timestamp que representa l'1 de gener de 2020 $diferencia = $data - time (); // restem a l'1 de gener de 2020 el temps actual, // el resultat estar\u00e0 en segons. $diferenciaEnDies = ((( $diferencia / 60 ) / 60 ) / 24 ); /* dividim els segons entre 60 i obtenim els minuts, els dividim entre 60 i obtenim les hores, els dividim entre 24 i obtenim els dies */","title":"Operar amb dates"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/2_maneig_de_cadenes_de_text_i_dates/#validar-dates","text":"En la funci\u00f3 checkdate podem validar una data. checkdate ( int $month , int $day , int $year ) : bool La funci\u00f3 torna true si la data es v\u00e0lida, si no, torna false .","title":"Validar dates"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/2_maneig_de_cadenes_de_text_i_dates/#classe-datetime","text":"PHP disposa tamb\u00e9 de la classe DateTime per a representar les dates, la veurem m\u00e9s avant.","title":"Classe DateTime"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/2_maneig_de_cadenes_de_text_i_dates/#treballar-amb-dates","text":"{:.nocount .no_toc} Crea un fitxer anomenat dates.php i realitza les seg\u00fcents tasques: Mostra la data i hora actuals amb el format: dd/mm/yyyy hh:mm:ss Mostra el nom de la zona hor\u00e0ria que s'utilitza per defecte. Mostra la data de que ser\u00e0 d\u2019ac\u00ed 45 dies. Mostra el nombre de dies que han passat des de l'1 de gener. Mostra la data i hora actuals de Nova York. Mostra el dia de la setmana que era l'1 de gener d'enguany. En acabar penja el document a Aules.","title":"Treballar amb dates"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/","text":"Maneig d'arrays Introducci\u00f3 Arrays Video Un array \u00e9s un tipus de dades que ens permet emmagatzemar diversos valors.Per tal d'accedir a un valor utilitzarem una clau . Les claus poden ser nombres o textos ( arrays associatius ).Si no indiquem cap clau, a cada element se li associar\u00e0 una clau num\u00e8rica correlativa. Crear array Podem crear un array buit de dues formes: $noms = array (); $noms = []; Si volem assignar valors al array en el moment de crear-ho: $noms = array ( 'Sandra' , 'Pedro' , 'Andrea' ); $noms = [ 'Sandra' , 'Pedro' , 'Andrea' ]; Mostrar el contingut d'un array Si intentem mostrar el contingut d'un array amb echo no obtindrem les dades que hi ha dins del array. En lloc d'a\u00e7\u00f2 podem utilitzar la funci\u00f3 print_r: print_r ( $noms ); Per\u00f2 si necessitem donar-li format als continguts del array, haurem de rec\u00f3rrer-ho amb un bucle i anar mostrant element a element. Afegint elements al array Podem afegir elements al array utilitzant claud\u00e0tors buits. La clau d'aquests elements ser\u00e0 el seg\u00fcent \u00edndex num\u00e8ric disponible. $noms [] = 'Raul' ; $noms [] = 'Marta' ; Accedir als elements del array Accedirem als elements del array indicant la clau de l'element entre claud\u00e0tors: echo $noms [ 2 ]; Tamb\u00e9 podem modificar el seu valor: $noms [ 0 ] = 'Sara' ; Rec\u00f3rrer arrays Arrays associatius Video Si el array cont\u00e9 dades diverses i/o ens interessa accedir a ells amb claus m\u00e9s espec\u00edfiques que un simple \u00edndex num\u00e8ric podem utilitzar arrays associatius: $alumne = array ( 'nom' => 'Sara' , 'cognom' => 'Garc\u00eda' , 'edat' => 22 ); $alumne = [ 'nom' => 'Sara' , 'cognom' => 'Garc\u00eda' , 'edat' => 22 ]; $alumne [ 'nom' ] = 'Ver\u00f3nica' ; echo $alumne [ 'nom' ]; Rec\u00f3rrer arrays associatius Rec\u00f3rrer claus i valors Arrays multidimensionals Imagina que volem tenir un array els elements del qual s\u00f3n noms d'esports. Volem dividir-los en esports d'hivern i esports d'estiu. Podem crear un array esports que continga dos elements que al seu torn tamb\u00e9 seran arrays. $esports = [ 'hivern' => [ 'esqu\u00ed de fons' , 'hoquei sobre gel' ], 'estiu' => [ 'nataci\u00f3' , 'voley platja' ] ]; Per a accedir al primer esport d'hivern: echo $esports [ 'hivern' ][ 0 ]; Funcions d'arrays Podem consultar-les en http://es.php.net/manual/es/ref.array.php Arrays indexats Alguns recursos: https://www.studytonight.com/php/indexed-array https://aprende-web.net/php/php6_1.php {: .alert .alert-activity } ### Activitat 4: Arrays indexats {:.nocount .no_toc } Crea una p\u00e0gina anomenada arrays.php, copia el contingut de la p\u00e0gina index.php i resol els exercicis seg\u00fcents utilitzant funcions d'arrays: 1. Crea un array amb els noms de diversos alumnes de la classe incloent el teu. 2. Mostra el nombre d'elements que t\u00e9 l'array (_count_). 3. Crea una cadena de text que continga els noms dels alumnes existents en l'array separats per un espai i mostra-la (_implode_). 4. Mostra l'array en un ordre aleatori diferent al que ho vas crear (_shuffle_). 5. Mostra l'array ordenat alfab\u00e8ticament (_sort_). 6. Mostra els alumnes el nom dels quals continga almenys una \u201ca\u201d (_array_filter_). 7. Mostra l'array en l'ordre invers al que es va crear (_rsort_). 8. Mostra la posici\u00f3 que t\u00e9 el teu nom en l'array (_array_search_). Arrays associatius {: .alert .alert-activity } ### Activitat 5: Arrays associatius {:.nocount .no_toc } Segons l'INE les 7 ciutats m\u00e9s grans d\u2019Espanya (per habitants) el 2018 van ser les seg\u00fcents: - Madrid, MAD, 3.223.334 - Sevilla, AN , 688.711 - Murcia, MU, 447.182 - M\u00e1laga, AN, 571.026 - Zaragoza, AR, 666.880 - Val\u00e8ncia, CV, 791.413 - Barcelona, CAT, 1.620.343 Copia index.php i crea un nou document `cituats.php`. Defineix un array que continga aquesta informaci\u00f3 sobre ciutats i habitants. Imprimeix una taula d'ubicacions i habitants que incloga la poblaci\u00f3 total de les 7 ciutats. Opcional: Modifica la soluci\u00f3 de l\u2019anterior exercici perqu\u00e8 mostre les ciutats ordenades per habitants. Despr\u00e9s mostra-les per ordre alfab\u00e8tic. Arrays multidimensionals {: .alert .alert-activity } ### Activitat 6: Arrays multidimensionals {:.nocount .no_toc } Crea una p\u00e0gina anomenada `arrays2.php`, copia el contingut de la p\u00e0gina index.php i resol els exercicis seg\u00fcents utilitzant funcions d'arrays: 1. Crea un array d'alumnes on cada element siga un altre array que continga nom i edat de l'alumne. 2. Crea una taula HTML en la qual es mostren totes les dades dels alumnes. 3. Utilitza la funci\u00f3 `array_column` per a obtenir un array indexat que continga \u00fanicament els noms dels alumnes i mostra\u2019ls per pantalla. 4. Crea un array amb 10 n\u00fameros : * utilitza la funci\u00f3 `array_sum` per a obtenir la suma dels 10 nombres. {: .alert .alert-activity } ### Activitat 6b opcional {:.nocount .no_toc } Modifica la soluci\u00f3 del exercici `ciutats.php` perqu\u00e8 la taula continga tamb\u00e9 la columna del total d\u2019habitants de la comunitat aut\u00f2noma de les ciutats de la llista i el percentatge sobre els habitants de la comunitat aut\u00f2noma que representa. Per exemple: | Ciutat | Habitants | Habitats CA | % sobre CA | | -- | --: | --: | --: | | Val\u00e8ncia | 791.413 | 5.003.769 | 15.81% | Pista: Caldr\u00e0 modificar l'array `$ciutats` i convertir-lo en multidimensional. Les dades de comunitats aut\u00f2nomes hauran d'estar en un altre array. Dades: [Municipis de Espa\u00f1a](https://es.wikipedia.org/wiki/Anexo:Municipios_de_Espa%C3%B1a_por_poblaci%C3%B3n)","title":"3. Maneig d'arrays"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#maneig-darrays","text":"","title":"Maneig d'arrays"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#introduccio","text":"","title":"Introducci\u00f3"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#arrays","text":"Video Un array \u00e9s un tipus de dades que ens permet emmagatzemar diversos valors.Per tal d'accedir a un valor utilitzarem una clau . Les claus poden ser nombres o textos ( arrays associatius ).Si no indiquem cap clau, a cada element se li associar\u00e0 una clau num\u00e8rica correlativa.","title":"Arrays"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#crear-array","text":"Podem crear un array buit de dues formes: $noms = array (); $noms = []; Si volem assignar valors al array en el moment de crear-ho: $noms = array ( 'Sandra' , 'Pedro' , 'Andrea' ); $noms = [ 'Sandra' , 'Pedro' , 'Andrea' ];","title":"Crear array"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#mostrar-el-contingut-dun-array","text":"Si intentem mostrar el contingut d'un array amb echo no obtindrem les dades que hi ha dins del array. En lloc d'a\u00e7\u00f2 podem utilitzar la funci\u00f3 print_r: print_r ( $noms ); Per\u00f2 si necessitem donar-li format als continguts del array, haurem de rec\u00f3rrer-ho amb un bucle i anar mostrant element a element.","title":"Mostrar el contingut d'un array"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#afegint-elements-al-array","text":"Podem afegir elements al array utilitzant claud\u00e0tors buits. La clau d'aquests elements ser\u00e0 el seg\u00fcent \u00edndex num\u00e8ric disponible. $noms [] = 'Raul' ; $noms [] = 'Marta' ;","title":"Afegint elements al array"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#accedir-als-elements-del-array","text":"Accedirem als elements del array indicant la clau de l'element entre claud\u00e0tors: echo $noms [ 2 ]; Tamb\u00e9 podem modificar el seu valor: $noms [ 0 ] = 'Sara' ;","title":"Accedir als elements del array"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#recorrer-arrays","text":"","title":"Rec\u00f3rrer arrays"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#arrays-associatius","text":"Video Si el array cont\u00e9 dades diverses i/o ens interessa accedir a ells amb claus m\u00e9s espec\u00edfiques que un simple \u00edndex num\u00e8ric podem utilitzar arrays associatius: $alumne = array ( 'nom' => 'Sara' , 'cognom' => 'Garc\u00eda' , 'edat' => 22 ); $alumne = [ 'nom' => 'Sara' , 'cognom' => 'Garc\u00eda' , 'edat' => 22 ]; $alumne [ 'nom' ] = 'Ver\u00f3nica' ; echo $alumne [ 'nom' ];","title":"Arrays associatius"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#recorrer-arrays-associatius","text":"","title":"Rec\u00f3rrer arrays associatius"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#recorrer-claus-i-valors","text":"","title":"Rec\u00f3rrer claus i valors"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#arrays-multidimensionals","text":"Imagina que volem tenir un array els elements del qual s\u00f3n noms d'esports. Volem dividir-los en esports d'hivern i esports d'estiu. Podem crear un array esports que continga dos elements que al seu torn tamb\u00e9 seran arrays. $esports = [ 'hivern' => [ 'esqu\u00ed de fons' , 'hoquei sobre gel' ], 'estiu' => [ 'nataci\u00f3' , 'voley platja' ] ]; Per a accedir al primer esport d'hivern: echo $esports [ 'hivern' ][ 0 ];","title":"Arrays multidimensionals"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#funcions-darrays","text":"Podem consultar-les en http://es.php.net/manual/es/ref.array.php","title":"Funcions d'arrays"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#arrays-indexats","text":"Alguns recursos: https://www.studytonight.com/php/indexed-array https://aprende-web.net/php/php6_1.php {: .alert .alert-activity } ### Activitat 4: Arrays indexats {:.nocount .no_toc } Crea una p\u00e0gina anomenada arrays.php, copia el contingut de la p\u00e0gina index.php i resol els exercicis seg\u00fcents utilitzant funcions d'arrays: 1. Crea un array amb els noms de diversos alumnes de la classe incloent el teu. 2. Mostra el nombre d'elements que t\u00e9 l'array (_count_). 3. Crea una cadena de text que continga els noms dels alumnes existents en l'array separats per un espai i mostra-la (_implode_). 4. Mostra l'array en un ordre aleatori diferent al que ho vas crear (_shuffle_). 5. Mostra l'array ordenat alfab\u00e8ticament (_sort_). 6. Mostra els alumnes el nom dels quals continga almenys una \u201ca\u201d (_array_filter_). 7. Mostra l'array en l'ordre invers al que es va crear (_rsort_). 8. Mostra la posici\u00f3 que t\u00e9 el teu nom en l'array (_array_search_).","title":"Arrays indexats"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#arrays-associatius_1","text":"{: .alert .alert-activity } ### Activitat 5: Arrays associatius {:.nocount .no_toc } Segons l'INE les 7 ciutats m\u00e9s grans d\u2019Espanya (per habitants) el 2018 van ser les seg\u00fcents: - Madrid, MAD, 3.223.334 - Sevilla, AN , 688.711 - Murcia, MU, 447.182 - M\u00e1laga, AN, 571.026 - Zaragoza, AR, 666.880 - Val\u00e8ncia, CV, 791.413 - Barcelona, CAT, 1.620.343 Copia index.php i crea un nou document `cituats.php`. Defineix un array que continga aquesta informaci\u00f3 sobre ciutats i habitants. Imprimeix una taula d'ubicacions i habitants que incloga la poblaci\u00f3 total de les 7 ciutats. Opcional: Modifica la soluci\u00f3 de l\u2019anterior exercici perqu\u00e8 mostre les ciutats ordenades per habitants. Despr\u00e9s mostra-les per ordre alfab\u00e8tic.","title":"Arrays associatius"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/3_maneig_darrays/#arrays-multidimensionals_1","text":"{: .alert .alert-activity } ### Activitat 6: Arrays multidimensionals {:.nocount .no_toc } Crea una p\u00e0gina anomenada `arrays2.php`, copia el contingut de la p\u00e0gina index.php i resol els exercicis seg\u00fcents utilitzant funcions d'arrays: 1. Crea un array d'alumnes on cada element siga un altre array que continga nom i edat de l'alumne. 2. Crea una taula HTML en la qual es mostren totes les dades dels alumnes. 3. Utilitza la funci\u00f3 `array_column` per a obtenir un array indexat que continga \u00fanicament els noms dels alumnes i mostra\u2019ls per pantalla. 4. Crea un array amb 10 n\u00fameros : * utilitza la funci\u00f3 `array_sum` per a obtenir la suma dels 10 nombres. {: .alert .alert-activity } ### Activitat 6b opcional {:.nocount .no_toc } Modifica la soluci\u00f3 del exercici `ciutats.php` perqu\u00e8 la taula continga tamb\u00e9 la columna del total d\u2019habitants de la comunitat aut\u00f2noma de les ciutats de la llista i el percentatge sobre els habitants de la comunitat aut\u00f2noma que representa. Per exemple: | Ciutat | Habitants | Habitats CA | % sobre CA | | -- | --: | --: | --: | | Val\u00e8ncia | 791.413 | 5.003.769 | 15.81% | Pista: Caldr\u00e0 modificar l'array `$ciutats` i convertir-lo en multidimensional. Les dades de comunitats aut\u00f2nomes hauran d'estar en un altre array. Dades: [Municipis de Espa\u00f1a](https://es.wikipedia.org/wiki/Anexo:Municipios_de_Espa%C3%B1a_por_poblaci%C3%B3n)","title":"Arrays multidimensionals"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/4_funcions/","text":"Funcions {: .no_toc } Funcions predefinides is_null($var) determina si una variable \u00e9s nula o no. isset($var) determina si una variable estan definida i no \u00e9s NULL. unset($var) destrueix les variables especificades. empty($var) torna true si no existeix o \u00e9s FALSE is_int($var) , is_float() , is_bool() , is_array() var_dump($var) mostra informaci\u00f3 de la variable. Funcions definides per l'usuari Per a crear les teues pr\u00f2pies funcions, haur\u00e0s d'usar la paraula function : function suma ( $a , $b ){ return $a + $b ; } Per tal d'invocar la funci\u00f3: $resultat = suma ( 5 , 7 ); Si una funci\u00f3 no t\u00e9 una sent\u00e8ncia return , retorna null en finalitzar. Valors per defecte en els par\u00e0metres Podem indicar valors per defecte per als par\u00e0metres. Si quan cridem a la funci\u00f3 no indiquem el valor d'un par\u00e0metre es prendr\u00e0 el valor per defecte indicat. function preuAmbIva ( $preu , $iva = 0.21 ){ return $preu * ( 1 + $iva ); } $preu = 10 ; $pIva = preuAmbIva ( $preu ); Pot haver-hi m\u00e9s d'un par\u00e0metre amb valor per defecte, per\u00f2 sempre han d'estar al final. Pas de par\u00e0metres per refer\u00e8ncia Per defecte els par\u00e0metres es passen per valor. Per a passar un par\u00e0metre per refer\u00e8ncia afegirem el s\u00edmbol & davant del seu nom. function preuAmbIva ( & $preu , $iva = 0.18 ){ $preu *= ( 1 + $iva ); } Declaracions de tipus (Type Hinting) Les funcions obliguen al fet que els par\u00e0metres siguen de cert tipus. Si el valor donat \u00e9s d'un tipus incorrecte, es generar\u00e0 un error. Per aix\u00f2 s'ha d'anteposar-se el nom del tipus al nom del par\u00e0metre. Es pot fer que una declaraci\u00f3 accepte valors NULL si el valor predeterminat del par\u00e0metre s'estableix a NULL. Tipus v\u00e0lids Exemple function suma ( int a , int b ) : int { return $a + $b ; } $resultado = suma ( 3 , 5 ); Funcions com a par\u00e0metres En PHP \u00e9s possible passar funcions com a par\u00e0metres a altres funcions. Nom\u00e9s cal passar el nom de la funci\u00f3 entre cometes. Exemple: function calculator ( $operation , $numA , $numB ){ return $operation ( $numA , $numB ); } function sumar ( $a , $b ) { return $a + $b ; } function restar ( $a , $b ) { return $a - $b ; } $a = 4 ; $b = 6 ; echo calculator ( 'sumar' , $a , $b ); echo calculator ( 'restar' , $a , $b ); Funcions an\u00f2nimes ( closures ) Estan implementades usant la classe Closure Permeten la creaci\u00f3 de funcions que no tenen un nom espec\u00edfic Podem assignar la funci\u00f3 a una variable o passar-la com a par\u00e0metre a una altra funci\u00f3. * Exemple Sense par\u00e0metres: $anonima = function () { echo \"Hola\" ; }; $anonima (); Amb par\u00e0metres: $anonima = function ( $nom ) { echo \"Hola { $nom } \" ; }; $anonima ( '\u00c1lex' ); Usar variables de l'\u00e0mbit superior Una funci\u00f3 an\u00f2nima pot usar variables de l'\u00e0mbit superior mitjan\u00e7ant la paraula reservada use : function saluda ( callable $fnSaluda ) { $fnSaluda ( '\u00c1lex' ); } $salutaci\u00f3 = 'Hola' ; $anonima = function ( $nom ) use ( $salutaci\u00f3 ) { echo \" { $salutaci\u00f3 } { $nom } \" ; }; saluda ( $anonima ); Llibreries Podem fer llibreries de funcions guardant-les en un fitxer que despr\u00e8s importem des d'on les utilitzem. Ho podem fer amb include, o utilitzant composer per a fer-ho. \u00c9s el moment de fer m\u00e9s exercisis: Exercisi 2.3 Funcions {: .alert .alert-activity } ### Activitat 7a: funci\u00f3 imatge {:.nocount .no_toc } Crea el fitxer funcions.php Escriviu una funci\u00f3 per retornar una etiqueta HTML . La funci\u00f3 hauria d\u2019acceptar com a argument obligatori l\u2019URL de la imatge i arguments opcionals per a un text alternatiu, al\u00e7ada i amplada. ### Activitat 7b: funci\u00f3 imatge local {:.nocount .no_toc } Copieu la funci\u00f3 de l\u2019exercici anterior i modifiqueu-la de manera que nom\u00e9s es passe el nom de fitxer a la funci\u00f3 en lloc de l\u2019URL completa. Dins de la funci\u00f3, farem \u00fas d\u2019una variable global per fer l\u2019URL completa. Per exemple, si passem `photo.png` a la funci\u00f3, i la variable global cont\u00e9 `/images`, llavors l\u2019atribut `src` de l'etiqueta retornada ser\u00e0 `/images/photo.png`. Una funci\u00f3 com aquesta \u00e9s una forma senzilla de mantenir correctes les vostres etiquetes d\u2019imatges, fins i tot si les imatges es mouen a un nou cam\u00ed o servidor. Nom\u00e9s cal canviar la variable global, per exemple, de `/images` a `http://images.example.com/.` {: .alert .alert-activity } ### Activitat 8: Funcions {:.nocount .no_toc } Els colors web com `#ffffff` i `#cc3399` es realitzen concatenant els valors hexadecimals de color per a vermell, verd i blau. Escriu una funci\u00f3 que accepte 3 arguments: roig, verd i blau, i que retorne un string que cont\u00e9 el color adequat per utilitzar-lo en una p\u00e0gina web. Per exemple, si els arguments s\u00f3n 255, 0, i 255, llavors la cadena retornada hauria de ser #FF00FF. Pot resultar \u00fatil utilitzeu la funci\u00f3 `dechex()` integrada, que es troba documentada a [http://www.php.net/](http://www.php.net/) Assegureu-vos que els par\u00e0metres reben valors enters i que s\u00f3n colors v\u00e0lids. Implementa 3 exemples d\u2019\u00fas. {: .alert .alert-activity } ### Activitat 9: SQL {:.nocount .no_toc } Crea un fitxer anomenat `funcions_sql.php`. Crea una funci\u00f3 anomenada `insert` que ens genere una sent\u00e8ncia INSERT INTO en SQL. Per a a\u00e7\u00f2 la funci\u00f3 rebr\u00e0 dos par\u00e0metres: 1. El nom de la taula 2. Un array associatiu que contindr\u00e0 els noms i valors dels camps de la taula. La sent\u00e8ncia resultant tindr\u00e0 la seg\u00fcent forma: \u201cINSERT INTO nom_taula (nom dels camps separats per comes) VALUES (noms dels camps separats per comes amb el car\u00e0cter \u201c:\u201d davant) De moment, no farem res amb els valors dels camps. Ajuda: utilitza les funcions `sprintf`, `implode` i `array_keys` {: .alert .alert-activity } ### Activitat 10: SQL {:.nocount .no_toc } A partir de l'exercici anterior crea una altra funci\u00f3 que reba els mateixos par\u00e0metres m\u00e9s un par\u00e0metre boole\u00e0 per a indicar si volem generar la query amb els noms dels camps o no. El par\u00e0metre tindr\u00e0 el valor `true` per defecte. Si el seu valor \u00e9s `true` generar\u00e0 la consulta igual que en l'exercici anterior, per\u00f2 si \u00e9s `false` la generar\u00e0 aix\u00ed: INSERT INTO nom_taula VALUES ( valors dels camps separats per comes amb el car\u00e0cter \u2018 : \u2019 davant ) {: .alert .alert-activity } ### Activitat 11: SQL {:.nocount .no_toc } Repeteix l'exercici anterior amb els seg\u00fcents canvis: La cadena resultant es passar\u00e0 per refer\u00e8ncia. Passarem la cadena de la seg\u00fcent forma: INSERT INTO taula ( camps ) VALUES ( valors ) Dins de la funci\u00f3 substituirem el seg\u00fcent: 1. El text taula pel nom de la taula. 2. El text camps pels noms dels camps separats per comes 3. El text valors pels noms dels camps separats per comes i el car\u00e0cter \u2018:\u2019 davant.","title":"4. Funcions"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/4_funcions/#funcions","text":"{: .no_toc }","title":"Funcions"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/4_funcions/#funcions-predefinides","text":"is_null($var) determina si una variable \u00e9s nula o no. isset($var) determina si una variable estan definida i no \u00e9s NULL. unset($var) destrueix les variables especificades. empty($var) torna true si no existeix o \u00e9s FALSE is_int($var) , is_float() , is_bool() , is_array() var_dump($var) mostra informaci\u00f3 de la variable.","title":"Funcions predefinides"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/4_funcions/#funcions-definides-per-lusuari","text":"Per a crear les teues pr\u00f2pies funcions, haur\u00e0s d'usar la paraula function : function suma ( $a , $b ){ return $a + $b ; } Per tal d'invocar la funci\u00f3: $resultat = suma ( 5 , 7 ); Si una funci\u00f3 no t\u00e9 una sent\u00e8ncia return , retorna null en finalitzar.","title":"Funcions definides per l'usuari"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/4_funcions/#valors-per-defecte-en-els-parametres","text":"Podem indicar valors per defecte per als par\u00e0metres. Si quan cridem a la funci\u00f3 no indiquem el valor d'un par\u00e0metre es prendr\u00e0 el valor per defecte indicat. function preuAmbIva ( $preu , $iva = 0.21 ){ return $preu * ( 1 + $iva ); } $preu = 10 ; $pIva = preuAmbIva ( $preu ); Pot haver-hi m\u00e9s d'un par\u00e0metre amb valor per defecte, per\u00f2 sempre han d'estar al final.","title":"Valors per defecte en els par\u00e0metres"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/4_funcions/#pas-de-parametres-per-referencia","text":"Per defecte els par\u00e0metres es passen per valor. Per a passar un par\u00e0metre per refer\u00e8ncia afegirem el s\u00edmbol & davant del seu nom. function preuAmbIva ( & $preu , $iva = 0.18 ){ $preu *= ( 1 + $iva ); }","title":"Pas de par\u00e0metres per refer\u00e8ncia"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/4_funcions/#declaracions-de-tipus-type-hinting","text":"Les funcions obliguen al fet que els par\u00e0metres siguen de cert tipus. Si el valor donat \u00e9s d'un tipus incorrecte, es generar\u00e0 un error. Per aix\u00f2 s'ha d'anteposar-se el nom del tipus al nom del par\u00e0metre. Es pot fer que una declaraci\u00f3 accepte valors NULL si el valor predeterminat del par\u00e0metre s'estableix a NULL.","title":"Declaracions de tipus (Type Hinting)"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/4_funcions/#tipus-valids","text":"","title":"Tipus v\u00e0lids"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/4_funcions/#exemple","text":"function suma ( int a , int b ) : int { return $a + $b ; } $resultado = suma ( 3 , 5 );","title":"Exemple"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/4_funcions/#funcions-com-a-parametres","text":"En PHP \u00e9s possible passar funcions com a par\u00e0metres a altres funcions. Nom\u00e9s cal passar el nom de la funci\u00f3 entre cometes. Exemple: function calculator ( $operation , $numA , $numB ){ return $operation ( $numA , $numB ); } function sumar ( $a , $b ) { return $a + $b ; } function restar ( $a , $b ) { return $a - $b ; } $a = 4 ; $b = 6 ; echo calculator ( 'sumar' , $a , $b ); echo calculator ( 'restar' , $a , $b );","title":"Funcions com a par\u00e0metres"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/4_funcions/#funcions-anonimes-closures","text":"Estan implementades usant la classe Closure Permeten la creaci\u00f3 de funcions que no tenen un nom espec\u00edfic Podem assignar la funci\u00f3 a una variable o passar-la com a par\u00e0metre a una altra funci\u00f3. * Exemple Sense par\u00e0metres: $anonima = function () { echo \"Hola\" ; }; $anonima (); Amb par\u00e0metres: $anonima = function ( $nom ) { echo \"Hola { $nom } \" ; }; $anonima ( '\u00c1lex' );","title":"Funcions an\u00f2nimes (closures)"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/4_funcions/#usar-variables-de-lambit-superior","text":"Una funci\u00f3 an\u00f2nima pot usar variables de l'\u00e0mbit superior mitjan\u00e7ant la paraula reservada use : function saluda ( callable $fnSaluda ) { $fnSaluda ( '\u00c1lex' ); } $salutaci\u00f3 = 'Hola' ; $anonima = function ( $nom ) use ( $salutaci\u00f3 ) { echo \" { $salutaci\u00f3 } { $nom } \" ; }; saluda ( $anonima );","title":"Usar variables de l'\u00e0mbit superior"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/4_funcions/#llibreries","text":"Podem fer llibreries de funcions guardant-les en un fitxer que despr\u00e8s importem des d'on les utilitzem. Ho podem fer amb include, o utilitzant composer per a fer-ho. \u00c9s el moment de fer m\u00e9s exercisis: Exercisi 2.3 Funcions {: .alert .alert-activity } ### Activitat 7a: funci\u00f3 imatge {:.nocount .no_toc } Crea el fitxer funcions.php Escriviu una funci\u00f3 per retornar una etiqueta HTML . La funci\u00f3 hauria d\u2019acceptar com a argument obligatori l\u2019URL de la imatge i arguments opcionals per a un text alternatiu, al\u00e7ada i amplada. ### Activitat 7b: funci\u00f3 imatge local {:.nocount .no_toc } Copieu la funci\u00f3 de l\u2019exercici anterior i modifiqueu-la de manera que nom\u00e9s es passe el nom de fitxer a la funci\u00f3 en lloc de l\u2019URL completa. Dins de la funci\u00f3, farem \u00fas d\u2019una variable global per fer l\u2019URL completa. Per exemple, si passem `photo.png` a la funci\u00f3, i la variable global cont\u00e9 `/images`, llavors l\u2019atribut `src` de l'etiqueta retornada ser\u00e0 `/images/photo.png`. Una funci\u00f3 com aquesta \u00e9s una forma senzilla de mantenir correctes les vostres etiquetes d\u2019imatges, fins i tot si les imatges es mouen a un nou cam\u00ed o servidor. Nom\u00e9s cal canviar la variable global, per exemple, de `/images` a `http://images.example.com/.` {: .alert .alert-activity } ### Activitat 8: Funcions {:.nocount .no_toc } Els colors web com `#ffffff` i `#cc3399` es realitzen concatenant els valors hexadecimals de color per a vermell, verd i blau. Escriu una funci\u00f3 que accepte 3 arguments: roig, verd i blau, i que retorne un string que cont\u00e9 el color adequat per utilitzar-lo en una p\u00e0gina web. Per exemple, si els arguments s\u00f3n 255, 0, i 255, llavors la cadena retornada hauria de ser #FF00FF. Pot resultar \u00fatil utilitzeu la funci\u00f3 `dechex()` integrada, que es troba documentada a [http://www.php.net/](http://www.php.net/) Assegureu-vos que els par\u00e0metres reben valors enters i que s\u00f3n colors v\u00e0lids. Implementa 3 exemples d\u2019\u00fas. {: .alert .alert-activity } ### Activitat 9: SQL {:.nocount .no_toc } Crea un fitxer anomenat `funcions_sql.php`. Crea una funci\u00f3 anomenada `insert` que ens genere una sent\u00e8ncia INSERT INTO en SQL. Per a a\u00e7\u00f2 la funci\u00f3 rebr\u00e0 dos par\u00e0metres: 1. El nom de la taula 2. Un array associatiu que contindr\u00e0 els noms i valors dels camps de la taula. La sent\u00e8ncia resultant tindr\u00e0 la seg\u00fcent forma: \u201cINSERT INTO nom_taula (nom dels camps separats per comes) VALUES (noms dels camps separats per comes amb el car\u00e0cter \u201c:\u201d davant) De moment, no farem res amb els valors dels camps. Ajuda: utilitza les funcions `sprintf`, `implode` i `array_keys` {: .alert .alert-activity } ### Activitat 10: SQL {:.nocount .no_toc } A partir de l'exercici anterior crea una altra funci\u00f3 que reba els mateixos par\u00e0metres m\u00e9s un par\u00e0metre boole\u00e0 per a indicar si volem generar la query amb els noms dels camps o no. El par\u00e0metre tindr\u00e0 el valor `true` per defecte. Si el seu valor \u00e9s `true` generar\u00e0 la consulta igual que en l'exercici anterior, per\u00f2 si \u00e9s `false` la generar\u00e0 aix\u00ed: INSERT INTO nom_taula VALUES ( valors dels camps separats per comes amb el car\u00e0cter \u2018 : \u2019 davant ) {: .alert .alert-activity } ### Activitat 11: SQL {:.nocount .no_toc } Repeteix l'exercici anterior amb els seg\u00fcents canvis: La cadena resultant es passar\u00e0 per refer\u00e8ncia. Passarem la cadena de la seg\u00fcent forma: INSERT INTO taula ( camps ) VALUES ( valors ) Dins de la funci\u00f3 substituirem el seg\u00fcent: 1. El text taula pel nom de la taula. 2. El text camps pels noms dels camps separats per comes 3. El text valors pels noms dels camps separats per comes i el car\u00e0cter \u2018:\u2019 davant.","title":"Llibreries"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/5_noves%20caracteristiques_php/","text":"Maneig d'arrays {: .no_toc } Taula de continguts {: .no_toc .text-delta .nocount } TOC {:toc} Introducci\u00f3 Arrays associatius Arrays multidimensionals","title":"5. Noves caracter\u00edstiques PHP 7"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/5_noves%20caracteristiques_php/#maneig-darrays","text":"{: .no_toc }","title":"Maneig d'arrays"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/5_noves%20caracteristiques_php/#taula-de-continguts","text":"{: .no_toc .text-delta .nocount } TOC {:toc}","title":"Taula de continguts"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/5_noves%20caracteristiques_php/#introduccio","text":"","title":"Introducci\u00f3"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/5_noves%20caracteristiques_php/#arrays-associatius","text":"","title":"Arrays associatius"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/5_noves%20caracteristiques_php/#arrays-multidimensionals","text":"","title":"Arrays multidimensionals"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/","text":"Processament de formularis {: .no_toc } Taula de continguts {: .no_toc .text-delta .nocount } TOC {:toc} Introducci\u00f3 Qu\u00e8 \u00e9s una petici\u00f3 HTTP? Una petici\u00f3 HTTP \u00e9s una sol\u00b7licitud d'un recurs a un servidor. La petici\u00f3 es realitza a trav\u00e9s d'una URL. Amb la petici\u00f3 s'envien tamb\u00e9 par\u00e0metres. Hi ha diferents m\u00e8todes (METHOD) per a realitzar una petici\u00f3 (GET, POST, PUT, DELETE, PATCH, etc.). Els m\u00e9s habituals s\u00f3n GET i POST. La resta s\u00f3n m\u00e9s utilitzats en les RESTful API. M\u00e8todes GET i POST M\u00e8tode GET S'utilitza per a sol\u00b7licitar dades d'un recurs. Mostren els par\u00e0metres que s'envien en la url. Es poden utilitzar directament en enlla\u00e7os. El resultat es pot emmagatzemar en cache. Romanen en l'historial del navegador. La grand\u00e0ria dels par\u00e0metres est\u00e0 limitat a 255 car\u00e0cters. Exemple de petici\u00f3 GET Inspecci\u00f3 de la petici\u00f3 Inspecci\u00f3 de la petici\u00f3 Accedir a les dades de la petici\u00f3 GET Per a accedir a les dades usem la variable superglobal $_GET . $_GET \u00e9s un array associatiu les claus del qual coincidiran amb els noms que li hem donat als par\u00e0metres. Per a accedir als par\u00e0metres de la petici\u00f3 anterior: echo $_GET [ 'nom' ] . ' ' . $_GET [ 'cognom' ]; // Homer Simpson ### Exercici {: .nocount .no_toc } Crea una p\u00e0gina que reba com a par\u00e0metre un nom i mostre el text \u2018Benvingut [nom]!!!\u2019 sent [nom] el nom has passat com a par\u00e0metre. Guarda-la amb el nom `exemple_get.php`. M\u00e8tode POST El m\u00e8tode POST t\u00e9 les seg\u00fcents caracter\u00edstiques: S'utilitza per a enviar dades a un recurs. Els par\u00e0metres van en el cos de la petici\u00f3, no s\u00f3n visibles per a l'usuari. La petici\u00f3 no es guarda en cache. No es pot utilitzar en un enlla\u00e7. No roman en l'historial. No tenim la limitaci\u00f3 de grand\u00e0ria dels par\u00e0metres. Es solen utilitzar en els formularis. Evitar el CSRF En tota p\u00e0gina que reba par\u00e0metres GET has de comprovar el HTTP referer del navegador, i que aquest siga de dins de la teua web. En php el referer que envia el navegador s'emmagatzema en $_*SERVER['HTTP_REFERER'] Seria tal com: if ( parse_url ( $_SERVER [ 'HTTP_REFERER' ], PHP_URL_HOST ) != $_SERVER [ 'HTTP_HOST' ]) die ( 'Anti-CSRF' ); NOTA IMPORTANT Amb aquest codi estem obligant al fet que el navegador envie un referer si o s\u00ed. Per tant nom\u00e9s ha d'utilitzar-se en p\u00e0gines a les quals el navegador accedisca des d'una altra p\u00e0gina de la nostra web. \u00d2bviament no podem col\u00b7locar-ho en la primera p\u00e0gina a la qual s'accedeix a la nostra web (index.php o similar), ja que si l'usuari a escrit l'adre\u00e7a a m\u00e0 en la barra del navegador no s'enviar\u00e0 referer cap i saltar\u00e0 el sistema. Definici\u00f3 de formularis Com hem dit abans el m\u00e8tode POST s'empra en els formularis. El formulari seg\u00fcent enviar\u00e0 les dades a la p\u00e0gina index.php (atribut action de l'element form ). Utilitza el m\u00e8tode post indicat en l'atribut method : < form action = \"index.php\" method = \"post\" > < label for = \"nom\" > Nom </ label > < input type = \"text\" name = \"nom\" value = \"\" > < br /> < label for = \"cognom\" > Cognom </ label > < input type = \"text\" name = \"cognom\" value = \"\" > < br /> < input type = \"submit\" value = \"Enviar\" > </ form > Inspecci\u00f3 de la petici\u00f3: Headers Inspecci\u00f3 de la petici\u00f3: Param\u00e8tres Accedir a les dades de la petici\u00f3 POST Usem la variable superglobal $_POST . Funciona igual que $_GET , per\u00f2 amb els noms (atribut name ) que li hem donat als camps del formulari. En depuraci\u00f3 podem mostar totes les dades rebudes: var_dump ( $_POST ); print_r ( $_POST ) Per a mostrar les dades individualment: echo $_POST [ 'nom' ]; echo $_POST [ 'cognom' ]; ### Activitat 12 A: Creaci\u00f3 d'un formulari {: .nocount .no_toc } Crea un formulari que tinga els seg\u00fcents camps: * Nom i cognoms * Data de naixement * Correu electr\u00f2nic * Assumpte * Missatge En l'atribut `action` del formulari posarem el seg\u00fcent: action = \"<?= $_SERVER['PHP_SELF'] ; ?>\" A\u00e7\u00f2 far\u00e0 que siga la pr\u00f2pia p\u00e0gina del formulari la que processe les dades del mateix. En pr\u00e9mer `Enviar` han d'apar\u00e8ixer sota el formulari les dades que s'han introdu\u00eft en el mateix. Accedir a par\u00e0metres no existents Errors del tipus Notice: Undefined index: nom in /home/ubuntu/index.php on line 6 ens indiquen que la clau nom no existeix en l'array $_POST . La variable supergloblal $_POST est\u00e0 buida si no s'ha enviat el formulari. Per a evitar aquest tipus d'errors \u00e9s important verificar que s'haja enviat el formulari pr\u00e8viament: if ( $_SERVER [ 'REQUEST_METHOD' ] === 'POST' ) { } {: .alert .alert-activity} ### Activitat 12 B: Creaci\u00f3 d'un formulari {: .nocount .no_toc } Soluciona el problema dels par\u00e0metres no enviats de l'exercici anterior. Validaci\u00f3 de formularis Hem de comprovar que les dades que envia el formulari s\u00f3n correctes. Les validacions a realitzar s\u00f3n les seg\u00fcents: Els camps requerits no han de quedar buits. Ni contenir espais en blanc a l'inici i al final. Els camps email i data han de tenir el format esperat. Tots els camps s'han de filtrar amb htmlspecialchars per a evitar atacs de Cross-site Scripting (XSS). Valors buits Els camps requerits no deurien quedar-se buits. Per a verificar que un valor no queda buit podem utilitzar la funci\u00f3 empty() de PHP. Espais en blanc Hem d'eliminar els espais en blanc del principi i final dels camps. S'utilitza la funci\u00f3 trim Escapar l'entrada Sempre hem de filtrar l'entrada amb htmlspecialchars abans de mostrar el camp amb echo o similar. Ac\u00f2 convertir\u00e0 qualsevol car\u00e0cter especial d'html en la entitat, aix\u00ed no interferir\u00e0 en el el programa. Comprovar l'email Per a verificar si un email \u00e9s correcte podem utilitzar la funci\u00f3 filter_var filter_var ( $email , FILTER_VALIDATE_EMAIL ) o la funci\u00f3 filter_input quan obtenin les dades directament d'una variable extern. // suposem que rebem les dades d'un formulari que t\u00e9 un quadre de text de nom 'email' $email = filter_input ( INPUT_POST , 'email' , FILTER_VALIDATE_EMAIL ) filter_input filter_input ( int $type , string $variable_name [, int $filter = FILTER_DEFAULT [, mixed $options ]]) : mixed La funci\u00f3 filter_input agafa una variable externa ( $_GET , $_POST , etc) concreta pel seu nom i aplica el filtre indicat. Els filtres poden sanejar o validar les variables externes. Per exemple, si volem agafar el valor del par\u00e0metre nom del querystring (http://localhost/index.php?nom= Homer ) usarem el tipus INPUT_GET. El fltre FILTER_SANITIZE_STRING elimina etiquetes, i opcionalment elimina o codifica caracters especials. $nom = filter_input ( INPUT_GET , 'nom' , FILTER_SANITIZE_STRING ) . // $nom = Homer M\u00e9s informaci\u00f3 en: filter_var filter_input Comprovar la data Per a comprovar la data hem de crear una funci\u00f3 a aquest efecte. Podem utilitzar el m\u00e8tode est\u00e0tic createFromFormat de la classe DateTime M\u00e9s informaci\u00f3: http://php.net/manual/es/datetime.createfromformat.php Exemple $data1 = \"2001-05-02\" ; // Data \u00e9s de tipus string // DateTime::createFromFormat converteix una cadena de text a on objecte DateTime // ens tornar\u00e0 una inst\u00e0ncia de DateTime o FALSE en cas d'error. $dt1 = DateTime :: createFromFormat ( 'Y-m-d' , $data1 ); if ( $dt1 === false ) { echo \"La data d'inici \u00e9s incorrecta\" ; } https://www.php.net/manual/es/function.strtotime.php Tamb\u00e9 \u00e9s habitual trobar els controls de data separats en 3 elements input. Un per a l\u2019any, l\u2019altre per a mes i l\u2019altre per al dia. ### Activitat 12 C: Validaci\u00f3 d'un formulari {: .nocount .no_toc } Modifica l'exercici anterior realitzant les validacions oportunes. Bones pr\u00e0ctiques en l\u2019obtenci\u00f3 de dades des de l\u2019exterior Cal seguir les seg\u00fcents bones pr\u00e0ctiques: No confieu mai (mai) en l\u2019entrada des de l\u2019exterior del vostre PHP. Sanegeu i valideu l\u2019entrada de dades sempre. Les funcions filter_var() i filter_input() poden sanejar el text i validar els formats de text (per exemple, adreces de correu electr\u00f2nic, enters). Recordeu que l\u2019entrada de dades no es limita a formularis enviats per l\u2019usuari. Els fitxers carregats i descarregats, els valors de sessi\u00f3, les dades de galetes i les dades de serveis web de tercers tamb\u00e9 s\u00f3n d\u2019entrada estrangera. A mode de resum pod\u00edem resumir la gesti\u00f3 de formularis en el seg\u00fcent diagrama de flux. Formularis en HTML5 {: .nocount .no_toc } En els seg\u00fcents recursos trobar\u00e0s informaci\u00f3 addicional sobre els controls de formularis en HTML5: * Formularios en HTML en MDN web docs. * Formularios en HTML5 en MDN web docs. * HTML Forms en W3CSchools.","title":"6. Processament de formularis"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#processament-de-formularis","text":"{: .no_toc }","title":"Processament de formularis"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#taula-de-continguts","text":"{: .no_toc .text-delta .nocount } TOC {:toc}","title":"Taula de continguts"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#introduccio","text":"","title":"Introducci\u00f3"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#que-es-una-peticio-http","text":"Una petici\u00f3 HTTP \u00e9s una sol\u00b7licitud d'un recurs a un servidor. La petici\u00f3 es realitza a trav\u00e9s d'una URL. Amb la petici\u00f3 s'envien tamb\u00e9 par\u00e0metres. Hi ha diferents m\u00e8todes (METHOD) per a realitzar una petici\u00f3 (GET, POST, PUT, DELETE, PATCH, etc.). Els m\u00e9s habituals s\u00f3n GET i POST. La resta s\u00f3n m\u00e9s utilitzats en les RESTful API.","title":"Qu\u00e8 \u00e9s una petici\u00f3 HTTP?"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#metodes-get-i-post","text":"","title":"M\u00e8todes GET i POST"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#metode-get","text":"S'utilitza per a sol\u00b7licitar dades d'un recurs. Mostren els par\u00e0metres que s'envien en la url. Es poden utilitzar directament en enlla\u00e7os. El resultat es pot emmagatzemar en cache. Romanen en l'historial del navegador. La grand\u00e0ria dels par\u00e0metres est\u00e0 limitat a 255 car\u00e0cters. Exemple de petici\u00f3 GET Inspecci\u00f3 de la petici\u00f3 Inspecci\u00f3 de la petici\u00f3","title":"M\u00e8tode GET"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#accedir-a-les-dades-de-la-peticio-get","text":"Per a accedir a les dades usem la variable superglobal $_GET . $_GET \u00e9s un array associatiu les claus del qual coincidiran amb els noms que li hem donat als par\u00e0metres. Per a accedir als par\u00e0metres de la petici\u00f3 anterior: echo $_GET [ 'nom' ] . ' ' . $_GET [ 'cognom' ]; // Homer Simpson ### Exercici {: .nocount .no_toc } Crea una p\u00e0gina que reba com a par\u00e0metre un nom i mostre el text \u2018Benvingut [nom]!!!\u2019 sent [nom] el nom has passat com a par\u00e0metre. Guarda-la amb el nom `exemple_get.php`.","title":"Accedir a les dades de la petici\u00f3 GET"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#metode-post","text":"El m\u00e8tode POST t\u00e9 les seg\u00fcents caracter\u00edstiques: S'utilitza per a enviar dades a un recurs. Els par\u00e0metres van en el cos de la petici\u00f3, no s\u00f3n visibles per a l'usuari. La petici\u00f3 no es guarda en cache. No es pot utilitzar en un enlla\u00e7. No roman en l'historial. No tenim la limitaci\u00f3 de grand\u00e0ria dels par\u00e0metres. Es solen utilitzar en els formularis.","title":"M\u00e8tode POST"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#evitar-el-csrf","text":"En tota p\u00e0gina que reba par\u00e0metres GET has de comprovar el HTTP referer del navegador, i que aquest siga de dins de la teua web. En php el referer que envia el navegador s'emmagatzema en $_*SERVER['HTTP_REFERER'] Seria tal com: if ( parse_url ( $_SERVER [ 'HTTP_REFERER' ], PHP_URL_HOST ) != $_SERVER [ 'HTTP_HOST' ]) die ( 'Anti-CSRF' ); NOTA IMPORTANT Amb aquest codi estem obligant al fet que el navegador envie un referer si o s\u00ed. Per tant nom\u00e9s ha d'utilitzar-se en p\u00e0gines a les quals el navegador accedisca des d'una altra p\u00e0gina de la nostra web. \u00d2bviament no podem col\u00b7locar-ho en la primera p\u00e0gina a la qual s'accedeix a la nostra web (index.php o similar), ja que si l'usuari a escrit l'adre\u00e7a a m\u00e0 en la barra del navegador no s'enviar\u00e0 referer cap i saltar\u00e0 el sistema.","title":"Evitar el CSRF"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#definicio-de-formularis","text":"Com hem dit abans el m\u00e8tode POST s'empra en els formularis. El formulari seg\u00fcent enviar\u00e0 les dades a la p\u00e0gina index.php (atribut action de l'element form ). Utilitza el m\u00e8tode post indicat en l'atribut method : < form action = \"index.php\" method = \"post\" > < label for = \"nom\" > Nom </ label > < input type = \"text\" name = \"nom\" value = \"\" > < br /> < label for = \"cognom\" > Cognom </ label > < input type = \"text\" name = \"cognom\" value = \"\" > < br /> < input type = \"submit\" value = \"Enviar\" > </ form > Inspecci\u00f3 de la petici\u00f3: Headers Inspecci\u00f3 de la petici\u00f3: Param\u00e8tres","title":"Definici\u00f3 de formularis"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#accedir-a-les-dades-de-la-peticio-post","text":"Usem la variable superglobal $_POST . Funciona igual que $_GET , per\u00f2 amb els noms (atribut name ) que li hem donat als camps del formulari. En depuraci\u00f3 podem mostar totes les dades rebudes: var_dump ( $_POST ); print_r ( $_POST ) Per a mostrar les dades individualment: echo $_POST [ 'nom' ]; echo $_POST [ 'cognom' ]; ### Activitat 12 A: Creaci\u00f3 d'un formulari {: .nocount .no_toc } Crea un formulari que tinga els seg\u00fcents camps: * Nom i cognoms * Data de naixement * Correu electr\u00f2nic * Assumpte * Missatge En l'atribut `action` del formulari posarem el seg\u00fcent: action = \"<?= $_SERVER['PHP_SELF'] ; ?>\" A\u00e7\u00f2 far\u00e0 que siga la pr\u00f2pia p\u00e0gina del formulari la que processe les dades del mateix. En pr\u00e9mer `Enviar` han d'apar\u00e8ixer sota el formulari les dades que s'han introdu\u00eft en el mateix.","title":"Accedir a les dades de la petici\u00f3 POST"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#accedir-a-parametres-no-existents","text":"Errors del tipus Notice: Undefined index: nom in /home/ubuntu/index.php on line 6 ens indiquen que la clau nom no existeix en l'array $_POST . La variable supergloblal $_POST est\u00e0 buida si no s'ha enviat el formulari. Per a evitar aquest tipus d'errors \u00e9s important verificar que s'haja enviat el formulari pr\u00e8viament: if ( $_SERVER [ 'REQUEST_METHOD' ] === 'POST' ) { } {: .alert .alert-activity} ### Activitat 12 B: Creaci\u00f3 d'un formulari {: .nocount .no_toc } Soluciona el problema dels par\u00e0metres no enviats de l'exercici anterior.","title":"Accedir a par\u00e0metres no existents"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#validacio-de-formularis","text":"Hem de comprovar que les dades que envia el formulari s\u00f3n correctes. Les validacions a realitzar s\u00f3n les seg\u00fcents: Els camps requerits no han de quedar buits. Ni contenir espais en blanc a l'inici i al final. Els camps email i data han de tenir el format esperat. Tots els camps s'han de filtrar amb htmlspecialchars per a evitar atacs de Cross-site Scripting (XSS).","title":"Validaci\u00f3 de formularis"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#valors-buits","text":"Els camps requerits no deurien quedar-se buits. Per a verificar que un valor no queda buit podem utilitzar la funci\u00f3 empty() de PHP.","title":"Valors buits"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#espais-en-blanc","text":"Hem d'eliminar els espais en blanc del principi i final dels camps. S'utilitza la funci\u00f3 trim","title":"Espais en blanc"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#escapar-lentrada","text":"Sempre hem de filtrar l'entrada amb htmlspecialchars abans de mostrar el camp amb echo o similar. Ac\u00f2 convertir\u00e0 qualsevol car\u00e0cter especial d'html en la entitat, aix\u00ed no interferir\u00e0 en el el programa.","title":"Escapar l'entrada"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#comprovar-lemail","text":"Per a verificar si un email \u00e9s correcte podem utilitzar la funci\u00f3 filter_var filter_var ( $email , FILTER_VALIDATE_EMAIL ) o la funci\u00f3 filter_input quan obtenin les dades directament d'una variable extern. // suposem que rebem les dades d'un formulari que t\u00e9 un quadre de text de nom 'email' $email = filter_input ( INPUT_POST , 'email' , FILTER_VALIDATE_EMAIL )","title":"Comprovar l'email"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#filter_input","text":"filter_input ( int $type , string $variable_name [, int $filter = FILTER_DEFAULT [, mixed $options ]]) : mixed La funci\u00f3 filter_input agafa una variable externa ( $_GET , $_POST , etc) concreta pel seu nom i aplica el filtre indicat. Els filtres poden sanejar o validar les variables externes. Per exemple, si volem agafar el valor del par\u00e0metre nom del querystring (http://localhost/index.php?nom=","title":"filter_input"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#comprovar-la-data","text":"Per a comprovar la data hem de crear una funci\u00f3 a aquest efecte. Podem utilitzar el m\u00e8tode est\u00e0tic createFromFormat de la classe DateTime M\u00e9s informaci\u00f3: http://php.net/manual/es/datetime.createfromformat.php","title":"Comprovar la data"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#exemple","text":"$data1 = \"2001-05-02\" ; // Data \u00e9s de tipus string // DateTime::createFromFormat converteix una cadena de text a on objecte DateTime // ens tornar\u00e0 una inst\u00e0ncia de DateTime o FALSE en cas d'error. $dt1 = DateTime :: createFromFormat ( 'Y-m-d' , $data1 ); if ( $dt1 === false ) { echo \"La data d'inici \u00e9s incorrecta\" ; } https://www.php.net/manual/es/function.strtotime.php Tamb\u00e9 \u00e9s habitual trobar els controls de data separats en 3 elements input. Un per a l\u2019any, l\u2019altre per a mes i l\u2019altre per al dia. ### Activitat 12 C: Validaci\u00f3 d'un formulari {: .nocount .no_toc } Modifica l'exercici anterior realitzant les validacions oportunes.","title":"Exemple"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#bones-practiques-en-lobtencio-de-dades-des-de-lexterior","text":"Cal seguir les seg\u00fcents bones pr\u00e0ctiques: No confieu mai (mai) en l\u2019entrada des de l\u2019exterior del vostre PHP. Sanegeu i valideu l\u2019entrada de dades sempre. Les funcions filter_var() i filter_input() poden sanejar el text i validar els formats de text (per exemple, adreces de correu electr\u00f2nic, enters). Recordeu que l\u2019entrada de dades no es limita a formularis enviats per l\u2019usuari. Els fitxers carregats i descarregats, els valors de sessi\u00f3, les dades de galetes i les dades de serveis web de tercers tamb\u00e9 s\u00f3n d\u2019entrada estrangera. A mode de resum pod\u00edem resumir la gesti\u00f3 de formularis en el seg\u00fcent diagrama de flux.","title":"Bones pr\u00e0ctiques en l\u2019obtenci\u00f3 de dades des de l\u2019exterior"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/6_processament_formularis%20copy/#formularis-en-html5","text":"{: .nocount .no_toc } En els seg\u00fcents recursos trobar\u00e0s informaci\u00f3 addicional sobre els controls de formularis en HTML5: * Formularios en HTML en MDN web docs. * Formularios en HTML5 en MDN web docs. * HTML Forms en W3CSchools.","title":"Formularis en HTML5"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/7_pujada_fitxers/","text":"7. Pujada de fitxers {: .no_toc } Taula de continguts {: .no_toc .text-delta .nocount } TOC {:toc} Introducci\u00f3 Per a pujar fitxers PHP implementa un mecanisme senzill a trav\u00e9s de la variable superglobal $_FILES . En Pujada d'arxius disposeu de tota la informaci\u00f3 necess\u00e0ria per a gestionar la pujada d'arxius. Formulari Per poder utilitzar el tipus file en l'element input cal que el formulari incloga l'atribut enctype amb el valor multipart/form-data . El valor de l'atribut name de l'element input ser\u00e0 l'\u00edndex de l'array associatiu $_FILES que ens permetr\u00e0 obtenir tota la informaci\u00f3 del proc\u00e9s de pujada del fitxer. En el seg\u00fcent exemple: < form action = \"upload.php\" enctype = \"multipart/form-data\" method = \"POST\" > < input type = \"hidden\" name = \"MAX_FILE_SIZE\" value = \"10240\" > < input type = \"file\" name = \"image\" /> < input type = \"submit\" value = \"Upload\" /> </ form > Emprarem $_FILES['image'] per obtenir les dades de l'arxiu penjat. Variable superglobal $_FILES Cada element en $_FILES \u00e9s un array que aporta informaci\u00f3 sobre el fitxer pujat. Les claus m\u00e9s importants s\u00f3n: * name . El nom original del fitxer pujat. No \u00e9s massa \u00fatil perqu\u00e8 el sistema original pot tindre convencions diferents i pot generar col\u00b7lisions si l'utilitzem per a emmagatzemar-lo en la seua ubicaci\u00f3 definitiva. * type . El tipus MIME del fitxer dedu\u00eft pel navegador. * size . La grand\u00e0ria en bytes del fitxer. Si el fitxer \u00e9s massa gran el valor enviat ser\u00e0 0. * tmp_name . El nom temporal del fitxer en el servidor on s'ha emmagatzemat el fitxer pujat. Moure el fitxer Com que el fitxer pujat es guarda en una carpeta temporal hem d'emprar la funci\u00f3 move_uploaded_file per a guardar-lo en la ubicaci\u00f3 definitiva. La funci\u00f3 is_uploaded_file ens permet a assegurar-nos que el fitxer ha estat pujat usant HTTP POST i no es tracta d'un fitxer malici\u00f3s. move_uploaded_file ja fa eixa comprovaci\u00f3 en executar-se. Gesti\u00f3 d'errors PHP torna un codi d'error en $_FILES . El codi es pot trabar en la clau error . Per exemple: $_FILES['image']['error'] . Els missates d'error m\u00e9s importants s\u00f3n: UPLOAD_ERR_OK : La pujada ha sigut correcta. UPLOAD_ERR_INI_SIZE : La grand\u00e0ria del fitxer que s'intenta pujar \u00e9s major que el valor indicat en la directiva upload_max_filesize . UPLOAD_ERR_FORM_SIZE : La grand\u00e0ria del fitxer que s'intenta pujar \u00e9s major que el valor indicat en el formulari en max_file_size . UPLOAD_ERR_NO_FILE : No s'ha enviat cap fitxer. En Explicaci\u00f3 dels missatges d'error teniu m\u00e9s informaci\u00f3. {: .alert .alert-activity} ### Activitat 12 D: Pujada d'imatges (opcional) {: .nocount .no_toc } Modifica l'activitat anterior afegint un camp de tipus `FILE` per a pujar una imatge al servidor. Es guardar\u00e0 en la carpeta `uploads` i es mostrar\u00e0 amb la resta de dades.","title":"7. Pujada de fitxers"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/7_pujada_fitxers/#7-pujada-de-fitxers","text":"{: .no_toc }","title":"7. Pujada de fitxers"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/7_pujada_fitxers/#taula-de-continguts","text":"{: .no_toc .text-delta .nocount } TOC {:toc}","title":"Taula de continguts"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/7_pujada_fitxers/#introduccio","text":"Per a pujar fitxers PHP implementa un mecanisme senzill a trav\u00e9s de la variable superglobal $_FILES . En Pujada d'arxius disposeu de tota la informaci\u00f3 necess\u00e0ria per a gestionar la pujada d'arxius.","title":"Introducci\u00f3"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/7_pujada_fitxers/#formulari","text":"Per poder utilitzar el tipus file en l'element input cal que el formulari incloga l'atribut enctype amb el valor multipart/form-data . El valor de l'atribut name de l'element input ser\u00e0 l'\u00edndex de l'array associatiu $_FILES que ens permetr\u00e0 obtenir tota la informaci\u00f3 del proc\u00e9s de pujada del fitxer. En el seg\u00fcent exemple: < form action = \"upload.php\" enctype = \"multipart/form-data\" method = \"POST\" > < input type = \"hidden\" name = \"MAX_FILE_SIZE\" value = \"10240\" > < input type = \"file\" name = \"image\" /> < input type = \"submit\" value = \"Upload\" /> </ form > Emprarem $_FILES['image'] per obtenir les dades de l'arxiu penjat.","title":"Formulari"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/7_pujada_fitxers/#variable-superglobal-_files","text":"Cada element en $_FILES \u00e9s un array que aporta informaci\u00f3 sobre el fitxer pujat. Les claus m\u00e9s importants s\u00f3n: * name . El nom original del fitxer pujat. No \u00e9s massa \u00fatil perqu\u00e8 el sistema original pot tindre convencions diferents i pot generar col\u00b7lisions si l'utilitzem per a emmagatzemar-lo en la seua ubicaci\u00f3 definitiva. * type . El tipus MIME del fitxer dedu\u00eft pel navegador. * size . La grand\u00e0ria en bytes del fitxer. Si el fitxer \u00e9s massa gran el valor enviat ser\u00e0 0. * tmp_name . El nom temporal del fitxer en el servidor on s'ha emmagatzemat el fitxer pujat.","title":"Variable superglobal $_FILES"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/7_pujada_fitxers/#moure-el-fitxer","text":"Com que el fitxer pujat es guarda en una carpeta temporal hem d'emprar la funci\u00f3 move_uploaded_file per a guardar-lo en la ubicaci\u00f3 definitiva. La funci\u00f3 is_uploaded_file ens permet a assegurar-nos que el fitxer ha estat pujat usant HTTP POST i no es tracta d'un fitxer malici\u00f3s. move_uploaded_file ja fa eixa comprovaci\u00f3 en executar-se.","title":"Moure el fitxer"},{"location":"02.%20Caracter%C3%ADstiques%20b%C3%A0siques%20de%20PHP/7_pujada_fitxers/#gestio-derrors","text":"PHP torna un codi d'error en $_FILES . El codi es pot trabar en la clau error . Per exemple: $_FILES['image']['error'] . Els missates d'error m\u00e9s importants s\u00f3n: UPLOAD_ERR_OK : La pujada ha sigut correcta. UPLOAD_ERR_INI_SIZE : La grand\u00e0ria del fitxer que s'intenta pujar \u00e9s major que el valor indicat en la directiva upload_max_filesize . UPLOAD_ERR_FORM_SIZE : La grand\u00e0ria del fitxer que s'intenta pujar \u00e9s major que el valor indicat en el formulari en max_file_size . UPLOAD_ERR_NO_FILE : No s'ha enviat cap fitxer. En Explicaci\u00f3 dels missatges d'error teniu m\u00e9s informaci\u00f3. {: .alert .alert-activity} ### Activitat 12 D: Pujada d'imatges (opcional) {: .nocount .no_toc } Modifica l'activitat anterior afegint un camp de tipus `FILE` per a pujar una imatge al servidor. Es guardar\u00e0 en la carpeta `uploads` i es mostrar\u00e0 amb la resta de dades.","title":"Gesti\u00f3 d'errors"}]}